(this["webpackJsonpemail-marketing-project"]=this["webpackJsonpemail-marketing-project"]||[]).push([[0],{184:function(e){e.exports=JSON.parse('{"domain":"dev-1qpu3j0j.eu.auth0.com","clientId":"7jANzWya69HlYiv1cBdw2w3Q3bonafCW","audience":"http://localhost:44332","scope":"read:current_user update:current_user_metadata write:management profile email"}')},471:function(e,t,n){},688:function(e,t,n){},689:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(36),i=n.n(c),s=n(9),o=n(5),l=(n(471),n(93)),d=n(28),u=n(106),b=Object(u.a)(),j=n(184);function m(){var e=j.audience&&"YOUR_API_IDENTIFIER"!==j.audience?j.audience:null;return Object(o.a)({domain:j.domain,clientId:j.clientId,scope:j.scope},e?{audience:e}:null)}var p,O,h,x=n(805),g=n(806),f=n(807),y=n(306),C=n(808),v=n(307),T=n(802),S=n(809),I=n(810),N=n(804),k=n(811),w=n(761),E=n(298),A=n(737),D=n(738),F=n(170),_=Object(F.a)((function(e){return{logo:{marginTop:10,marginBottom:30,background:"rgba(255, 255, 255, 0.3)",paddingBottom:5},siteLayoutBackground:{background:"#fff",boxShadow:"rgb(0 0 0 / 15%) 0px 1px 4px -1px"}}})),B=n(76),M=n(12),G=n.n(M),L=n(18),R=Object(F.a)((function(e){return{content:Object(o.a)({width:"100%",padding:e.spacing(2,3,0,31)},e.mixins.toolbar),main:{flexGrow:1,padding:e.spacing(3)}}})),P=n(441),z=n(762),V=n(16),U=n(17),H=U.a.div(p||(p=Object(V.a)(["\n    border: 1px solid #e6ebf1;\n    background-color: white;\n    padding: 20px;\n    border-radius: 10px;\n    color: #fafafb !important;\n"]))),K=U.a.span(O||(O=Object(V.a)(["\n    color: #1a3353;\n    float: left;\n    padding-bottom: 20px;\n    font-weight: 700;\n    font-size: 17px;\n"]))),W=U.a.span(h||(h=Object(V.a)(["\n    color: #1a3353;\n    font-weight: 700;\n    font-size: 17px;\n"]))),q=n(786),J=n(1),Y=[{title:"Name",dataIndex:"name",key:"name",render:function(e,t){var n=t.id,a=t.name,r="".concat("https://app.mailgen.org","/campaign?mode=update&campaignId=").concat(n);return Object(J.jsxs)("a",{target:"_blank",href:r,children:[a," \xa0 ",Object(J.jsx)(q.a,{})]})}},{title:"Emails Sent",dataIndex:"emailsSent",key:"emailsSent",render:function(e){return"".concat(e)}},{title:"Open Rate",dataIndex:"openRate",key:"openRate",render:function(e){var t="green";return e>=40&&e<60&&(t="orange"),e>=0&&e<40&&(t="red"),Object(J.jsxs)(P.a,{color:t,children:[" ",e,"% "]},e)}},{title:"Template Type",key:"emailTemplateType",dataIndex:"emailTemplateType",render:function(e){return 0==e?"Simple Template":"Drag & Drop Builder"}},{title:"Template",key:"emailTemplateName",render:function(e,t){var n=t.emailTemplateType,a=t.emailTemplateId,r=t.emailTemplateName,c=0==n?"simple-template":"template",i="".concat("https://app.mailgen.org","/").concat(c,"?mode=update&id=").concat(a);return Object(J.jsxs)("a",{target:"_blank",href:i,children:[r," \xa0",Object(J.jsx)(q.a,{})]})}}],Z=function(e){var t=e.rows,n=e.loading,r=Object(a.useState)({current:1,pageSize:5}),c=Object(s.a)(r,2),i=c[0],l=c[1];return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(H,{children:Object(J.jsx)(z.a,{title:function(){return Object(J.jsx)(K,{children:"Campaigns"})},loading:n,columns:Y,dataSource:t,pagination:i,onChange:function(e){l(Object(o.a)({},e))}})})})},Q=[{title:"Name",dataIndex:"name",key:"name",render:function(e,t){var n=t.id,a=t.name,r="".concat("https://app.mailgen.org","/campaign?mode=update&campaignId=").concat(n);return Object(J.jsxs)("a",{target:"_blank",style:{textDecoration:"none",color:"#009be5"},href:r,children:[a," \xa0 ",Object(J.jsx)(q.a,{})]})}},{title:"Emails Sent",dataIndex:"emailsSent",key:"emailsSent",render:function(e){return"".concat(e)}},{title:"Template Type",key:"emailTemplateType",dataIndex:"emailTemplateType",render:function(e){return 0==e?"Simple Template":"Drag & Drop Builder"}},{title:"Template",key:"emailTemplateName",render:function(e,t){var n=t.emailTemplateType,a=t.emailTemplateId,r=t.emailTemplateName,c=0==n?"simple-template":"template",i="".concat("https://app.mailgen.org","/").concat(c,"?mode=update&id=").concat(a);return Object(J.jsxs)("a",{target:"_blank",href:i,children:[r," \xa0",Object(J.jsx)(q.a,{})]})}}],X=function(e){var t=e.rows,n=e.loading,r=Object(a.useState)({current:1,pageSize:5}),c=Object(s.a)(r,2),i=c[0],l=c[1];return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(H,{children:Object(J.jsx)(z.a,{title:function(){return Object(J.jsx)(K,{children:"Automated Emails"})},loading:n,columns:Q,dataSource:t,pagination:i,onChange:function(e){l(Object(o.a)({},e))}})})})},$=n(116),ee=n(117),te=function(){function e(t,n){Object($.a)(this,e),this.from=t,this.to=n}return Object(ee.a)(e,[{key:"From",get:function(){return this.from}},{key:"To",get:function(){return this.to}},{key:"validate",value:function(){return this.To>=this.From}}]),e}(),ne=n(150),ae=n(341),re=n(183),ce=[{id:0,name:"Last 30 Days",transform:function(){var e=new Date;return e.setDate(e.getDate()-30),new te(e,new Date)}},{id:1,name:"Last 7 Days",transform:function(){var e=new Date;return e.setDate(e.getDate()-7),new te(e,new Date)}},{id:2,name:"Last Month",transform:function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth()-1,1),n=new Date(e.getFullYear(),e.getMonth(),1),a=new Date(n.getFullYear(),n.getMonth(),n.getDate()-1);return new te(t,a)}},{id:3,name:"Custom",transform:function(){var e=new Date;return e.setDate(e.getDate()-30),new te(e,new Date)}}],ie=function(e){var t=e.value,n=e.handler,r=Object(a.useState)(0),c=Object(s.a)(r,2),i=c[0],l=c[1],d=Object(a.useState)(!0),u=Object(s.a)(d,2),b=u[0],j=u[1],m=function(e){l(e),j(3!==e);var t=ce.filter((function(t){return t.id===e}))[0].transform(),a=t.validate();n({range:{from:t.From,to:t.To},valid:a})};return Object(a.useEffect)((function(){return m(i)}),[]),Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(A.a,{justify:"start",gutter:[16,42],children:[Object(J.jsx)(D.a,{children:Object(J.jsxs)(ne.a,{defaultValue:0,style:{width:120},onChange:m,children:[Object(J.jsx)(re.a,{value:0,children:"Last 30 Days"}),Object(J.jsx)(re.a,{value:1,children:"Last 7 Days"}),Object(J.jsx)(re.a,{value:2,children:"Last Month"}),Object(J.jsx)(re.a,{value:3,children:"Custom"})]})}),Object(J.jsx)(D.a,{span:8,children:Object(J.jsx)(ae.a,{placeholder:"From",onChange:function(e,a){var r=new te(a,t.range.to).validate();n({range:Object(o.a)(Object(o.a)({},t.range),{},{from:a}),valid:r})},defaultValue:t.range.from,disabled:b,placement:"bottomLeft"})}),Object(J.jsx)(D.a,{span:8,children:Object(J.jsx)(ae.a,{placeholder:"To",onChange:function(e,a){var r=new te(t.range.from,a).validate();n({range:Object(o.a)(Object(o.a)({},t.range),{},{to:a}),valid:r})},defaultValue:t.range.to,disabled:b,placement:"bottomLeft"})})]})})},se=function(){function e(t,n){Object($.a)(this,e),this.number=t,this.formatter=n}return Object(ee.a)(e,[{key:"Value",get:function(){return this.formatter?this.formatter.format(this.number):this.number}}]),e}(),oe=function(){function e(){Object($.a)(this,e),this.ranges=[{divider:1e9,suffix:"B"},{divider:1e6,suffix:"M"},{divider:1e3,suffix:"k"}]}return Object(ee.a)(e,[{key:"format",value:function(e){for(var t=0;t<this.ranges.length;t++)if(e>=this.ranges[t].divider)return(e/this.ranges[t].divider).toString()+this.ranges[t].suffix;return e.toString()}}]),e}(),le=n(69),de=n.n(le),ue=n(773),be=n(770),je=function(){R();var e=Object(a.useState)({activeCampaigns:0,audienceSize:0}),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({campaignsDetails:[],autoEmailsDetails:[]}),i=Object(s.a)(c,2),o=i[0],l=i[1],u=Object(a.useState)(!1),b=Object(s.a)(u,2),j=b[0],p=b[1],O=Object(a.useState)(!1),h=Object(s.a)(O,2),x=h[0],g=h[1],f=Object(a.useState)({range:{from:null,to:null},valid:!0}),y=Object(s.a)(f,2),C=y[0],v=y[1],T=Object(d.b)().getAccessTokenSilently,S=m(),I=function(){var e=Object(L.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,T({audience:S.audience,scope:"read:current_user"});case 3:t=e.sent,fetch("".concat("https://api.mailgen.org","/dashboard/GetDashboardCounts"),{method:"get",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){r({activeCampaigns:e.activeCampaigns,audienceSize:e.audienceSize}),g(!1)})).catch((function(e){return console.log(e.message)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(L.a)(G.a.mark((function e(){var t,n,a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C.valid){e.next=2;break}return e.abrupt("return");case 2:return p(!0),e.next=5,T({audience:S.audience,scope:"read:current_user"});case 5:t=e.sent,n=de()(C.range.from).utc().format(),a=de()(C.range.to).utc().format(),fetch("".concat("https://api.mailgen.org","/dashboard/GetActivity?from=").concat(n,"&to=").concat(a),{method:"get",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){l({campaignsDetails:e.campaignsDetails,autoEmailsDetails:e.autoEmailsDetails}),p(!1)})).catch((function(e){return console.log(e.message)}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){I()}),[]),Object(a.useEffect)((function(){C.range.from&&C.range.to&&N()}),[C]),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(A.a,{gutter:[16,24],children:[Object(J.jsx)(D.a,{span:12,children:Object(J.jsx)(H,{children:Object(J.jsx)(ue.a,{style:{border:"none"},children:Object(J.jsx)(be.a,{title:Object(J.jsx)(W,{children:"Active Campaigns"}),value:n.activeCampaigns,loading:x})})})}),Object(J.jsx)(D.a,{span:12,children:Object(J.jsx)(H,{children:Object(J.jsx)(ue.a,{style:{border:"none"},children:Object(J.jsx)(be.a,{title:Object(J.jsx)(W,{children:"Audience Size"}),value:new se(n.audienceSize,new oe).Value,loading:x})})})}),Object(J.jsx)(D.a,{span:8,children:Object(J.jsx)(ie,{value:C,handler:v})})]}),Object(J.jsx)(A.a,{justify:"start",gutter:[16,24],style:{marginTop:20},children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)("div",{children:Object(J.jsx)(Z,{loading:j,rows:o.campaignsDetails})})})}),Object(J.jsx)(A.a,{justify:"start",gutter:[16,24],style:{marginTop:10},children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)("div",{children:Object(J.jsx)(X,{loading:j,rows:o.autoEmailsDetails})})})})]})};function me(e){return new Date(e.value).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}var pe=n(79),Oe=n(787),he=function(e){return[{dataIndex:"name",title:"Name",key:"name"},{dataIndex:"createdOn",title:"Created Date",key:"date",render:function(e){return me({value:e})}},{dataIndex:"templateType",title:"Type",key:"templateType",render:function(e){return 0===e?Object(J.jsx)(P.a,{color:"#2db7f5",children:"Simple Template"}):1===e?Object(J.jsx)(P.a,{color:"#9C27B0",children:"Drag & Drop"}):void 0}},{dataIndex:"modify",title:"Modify",key:"modify",render:function(t,n){var a=n.id,r=n.templateType;return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(pe.a,{type:"circle",onClick:function(t){return e(a,r)},icon:Object(J.jsx)(Oe.a,{})})})}}]},xe=n(301),ge=n(788),fe=n(789),ye=n(444),Ce=Object(J.jsx)(E.a,{items:[{key:"1",icon:Object(J.jsx)(ge.a,{}),label:Object(J.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"/simple-template",children:"Create a simple template"})},{key:"2",icon:Object(J.jsx)(fe.a,{}),label:Object(J.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"/drag-and-drop   ",children:"Drag & Drop Builder"})}]}),ve=function(){return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(xe.a,{overlay:Ce,placement:"bottom",arrow:{pointAtCenter:!0},children:Object(J.jsx)(pe.a,{icon:Object(J.jsx)(ye.a,{}),children:"Create"})})})},Te=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),i=Object(s.a)(c,2),o=i[0],l=i[1],u=Object(d.b)().getAccessTokenSilently,b=Object(B.f)(),j=m(),p=function(){var e=Object(L.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({audience:j.audience,scope:"read:current_user"});case 2:t=e.sent,fetch("".concat("https://api.mailgen.org","/emailTemplates/getTemplates"),{method:"get",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){l(e.templates),r(!1)})).catch((function(e){return console.log(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){r(!0),p()}),[]);return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(A.a,{gutter:[16,24],style:{marginTop:20},children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)("div",{children:Object(J.jsxs)(H,{children:[Object(J.jsx)(A.a,{gutter:[16,16],children:Object(J.jsx)(D.a,{span:8,children:Object(J.jsx)(K,{children:"Email Templates"})})}),Object(J.jsx)(A.a,{gutter:[16,16],children:Object(J.jsx)(D.a,{span:2,children:Object(J.jsx)(ve,{})})}),Object(J.jsx)(A.a,{children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(z.a,{loading:n,columns:he((function(e,t){return function(e,t){b.push({pathname:0===t?"/simple-template":"drag-and-drop",search:"?id=".concat(e),state:null})}(e,t)})),dataSource:o})})})]})})})})})};function Se(e,t){var n="";return e.firstNameIncluded&&(n+='\n        <div>\n            <label for="firstName">First Name:</label>\n            <input name="firstName" type="text" value="" placeholder="First name..." /></div>'),e.lastNameIncluded&&(n+='\n        <div>\n            <label for="lastName">Last Name:</label>\n            <input name="lastName" type="text" value="" placeholder="Last name" />\n        </div>'),e.phoneNumberIncluded&&(n+='\n            <div>\n                <label for="phoneNumber">PhoneNumber:</label>\n                <input name="phoneNumber" type="tel" value="" placeholder="Phone Number..." />\n            </div>'),e.birthDateIncluded&&(n+='\n            <div>\n                <label>Birthday</label>\n                <input style="width: 50px" name="dayOfBirth" type="number" value="" placeholder="DD" />\n                <span>/</span>\n                <input style="width: 50px" name="monthOfBirth" type="number" value="" placeholder="MM" />\n            </div>'),{__html:'\n        <h1>Subscribe</h1>\n        <div>\n            <iframe name="hiddenFrame" width="0" height="0" border="0" style="display: none;"></iframe>\n        </div>\n        <form method="post" target="hiddenFrame" action="'.concat(t,"/subscribers/subscribe?u=").concat(e.u,'">\n            <label for="email">Email:</label>\n            <input name="email" type="email" value="" placeholder="Please enter your email here.." />\n            ').concat(n,'\n            <input type="submit" value="Submit" />\n            <div style="display: none">\n                <input name="tags" type="text" value="').concat(e.tags.join(","),'">\n            </div>\n            \x3c!-- Do not remove this! The purpose of it is to restrict bots and fake signups.  --\x3e\n            <div style="display: none; position: absolute; left: -10000px">\n                <input name="honey" type="text" value="').concat("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),'">\n            </div>\n        </form>')}}var Ie,Ne,ke,we,Ee,Ae=n(782),De=n(783),Fe=n(784),_e=n(20),Be=n(40),Me=n(48),Ge=[],Le=Object(Me.b)({name:"tags",initialState:function(){return Ge},reducers:{updateSelectedTags:function(e,t){return Object(Be.a)(t.payload)},resetSelectedTags:function(e,t){return[]}}}),Re=Le.actions,Pe=Re.updateSelectedTags,ze=Re.resetSelectedTags,Ve=Le.reducer,Ue=function(e){var t=e.customReload,n=e.status,r=e.disabledTags,c=Object(_e.b)(),i=Object(_e.c)((function(e){return e.tags})),o=Object(a.useState)([]),l=Object(s.a)(o,2),u=l[0],b=l[1],j=Object(d.b)().getAccessTokenSilently,p=m(),O=function(){var e=Object(L.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j({audience:p.audience,scope:"read:current_user"});case 2:t=e.sent,fetch("".concat("https://api.mailgen.org","/tags/getTags"),{method:"get",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){b(e)})).catch((function(e){return console.log(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return O()}),[]),Object(a.useEffect)((function(){t&&O()}),[t]),Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(ne.a,{status:n||"",mode:"tags",style:{width:"100%",textAlign:"left"},placeholder:"Select Tags...",value:i,onChange:function(e){c(Pe(e))},children:u.map((function(e,t){return r?Object(J.jsx)(ne.a.Option,{disabled:r.includes(e),value:e,children:e},t):Object(J.jsx)(ne.a.Option,{value:e,children:e},t)}))})})},He=n(303),Ke=U.a.span(Ie||(Ie=Object(V.a)(["\n    color: #1a3353;\n    font-weight: 700;\n    font-size: 17px;\n    display: block;\n    text-align: left;\n    padding-bottom: 5px;\n"]))),We=U.a.li(Ne||(Ne=Object(V.a)(["\n    color: #1a3353;\n    font-weight: 500;\n    font-size: 14px;\n"]))),qe=function(){var e=Object(d.b)().getAccessTokenSilently,t=m(),n=Object(_e.c)((function(e){return e.tags})),r=Object(a.useState)(""),c=Object(s.a)(r,2),i=c[0],l=c[1],u=Object(a.useState)({firstName:!0,lastName:!0,birthDate:!0,phoneNumber:!0}),b=Object(s.a)(u,2),j=b[0],p=b[1],O=Object(a.useState)(!1),h=Object(s.a)(O,2),x=(h[0],h[1]),g=function(){var n=Object(L.a)(G.a.mark((function n(){var a;return G.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return x(!0),n.next=3,e({audience:t.audience,scope:"read:current_user"});case 3:a=n.sent,fetch("".concat("https://api.mailgen.org","/customer/getCustomerId"),{method:"get",headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){return e.json()})).then((function(e){l(e.id),x(!1)})).catch((function(e){return console.log(e.message)}));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),f=function(e){return{u:e,firstNameIncluded:j.firstName,lastNameIncluded:j.lastName,birthDateIncluded:j.birthDate,phoneNumberIncluded:j.phoneNumber,tags:n}};return Object(a.useEffect)((function(){return g()}),[]),Object(a.useEffect)((function(){Se(f(i))}),[j,n]),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(A.a,{gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(Ae.a,{message:Object(J.jsx)(Ke,{children:"How to use the forms"}),description:Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)("ol",{style:{textAlign:"left"},children:[Object(J.jsx)(We,{children:"Select the tags that you want your subscribers to be tagged with"}),Object(J.jsx)(We,{children:"Select which fields you want to collect from your subscribers"}),Object(J.jsx)(We,{children:"Copy the generated html"}),Object(J.jsx)(We,{children:"Paste it in your website and style it according to your website design using CSS"})]})}),type:"info"})})}),Object(J.jsxs)(A.a,{style:{marginTop:10},gutter:[16,16],children:[Object(J.jsx)(D.a,{span:8,children:Object(J.jsxs)(ue.a,{children:[Object(J.jsx)(A.a,{children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(Ue,{})})}),Object(J.jsx)(A.a,{style:{marginTop:10},children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)("div",{style:{float:"left"},children:Object(J.jsxs)(De.b,{children:[Object(J.jsx)(Fe.a,{onChange:function(e){p(Object(o.a)(Object(o.a)({},j),{},{firstName:e}))},defaultChecked:!0}),Object(J.jsx)("span",{children:"First Name"})]})})})}),Object(J.jsx)(A.a,{style:{marginTop:10},children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)("div",{style:{float:"left"},children:Object(J.jsxs)(De.b,{children:[Object(J.jsx)(Fe.a,{onChange:function(e){p(Object(o.a)(Object(o.a)({},j),{},{lastName:e}))},defaultChecked:!0}),Object(J.jsx)("span",{children:"Last Name"})]})})})}),Object(J.jsx)(A.a,{style:{marginTop:10},children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)("div",{style:{float:"left"},children:Object(J.jsxs)(De.b,{children:[Object(J.jsx)(Fe.a,{onChange:function(e){p(Object(o.a)(Object(o.a)({},j),{},{birthDate:e}))},defaultChecked:!0}),Object(J.jsx)("span",{children:"Birth Date"})]})})})}),Object(J.jsx)(A.a,{style:{marginTop:10},children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)("div",{style:{float:"left"},children:Object(J.jsxs)(De.b,{children:[Object(J.jsx)(Fe.a,{onChange:function(e){p(Object(o.a)(Object(o.a)({},j),{},{phoneNumber:e}))},defaultChecked:!0}),Object(J.jsx)("span",{children:"Phone Number"})]})})})})]})}),Object(J.jsx)(D.a,{span:8,children:Object(J.jsx)(ue.a,{children:Object(J.jsx)("div",{style:{textAlign:"left"},dangerouslySetInnerHTML:Se(f(i),"https://api.mailgen.org")})})}),Object(J.jsx)(D.a,{span:8,children:Object(J.jsx)("pre",{lang:"html",children:Object(J.jsx)(He.a,{rows:20,value:Se(f(i),"https://api.mailgen.org").__html.replace(/</g,"<").replace(/>/g,">")})})})]})]})},Je=n(159),Ye=n(790),Ze=n(791),Qe=n(792),Xe=n(793),$e={reload:!1},et=Object(Me.b)({name:"reloadAudienceReport",initialState:function(){return $e},reducers:{setShouldReload:function(e,t){return e.reload=t.payload.reload,e}}}),tt=et.actions.setShouldReload,nt=et.reducer,at={importOpened:!1,sendEmailsByTags:!1,sendEmailsForSubscribers:!1},rt=Object(Me.b)({name:"subscriberManagementDrawer",initialState:function(){return at},reducers:{setSubscriberManagementDrawerState:function(e,t){return e.importOpened=t.payload.importOpened,e.sendEmailsByTags=t.payload.sendEmailsByTags,e.sendEmailsForSubscribers=t.payload.sendEmailsForSubscribers,e}}}),ct=rt.actions.setSubscriberManagementDrawerState,it=rt.reducer,st={callApi:function(){var e=Object(L.a)(G.a.mark((function e(t,n){var a,r,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=m(),e.next=3,t({audience:a.audience,scope:"read:current_user"});case 3:r=e.sent,c={method:n.method,headers:Object(o.a)(Object(o.a)({},n.headers),{},{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(r)}),body:JSON.stringify(n.request)},fetch(n.url,c).then((function(e){return e.json()})).then(n.successCallback).catch((function(e){return n.errorCallback(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}.callApi,ot=n(429),lt=U.a.div(ke||(ke=Object(V.a)(["\n"]))),dt=U.a.div(we||(we=Object(V.a)(["\n"]))),ut=U.a.div(Ee||(Ee=Object(V.a)(["\n    float:right\n"]))),bt=function(){var e=Object(_e.b)(),t=Object(_e.c)((function(e){return e.subscriberManagementDrawer})),n=Object(d.b)().getAccessTokenSilently,a=function(e){var t=new ot.ExportToCsv({fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!1,useTextFile:!1,useBom:!0,useKeysAsHeaders:!0,filename:"Export Audience"}),n=e.map((function(e){var t=JSON.parse(e.extra),n="".concat(e.dayOfBirth,"/").concat(e.monthOfBirth),a=Object(o.a)(Object(o.a)(Object(o.a)({},e),t),{},{tags:e.tags.join(","),birthday:e.dayOfBirth&&e.monthOfBirth?n:null});return delete a.extra,delete a.dayOfBirth,delete a.monthOfBirth,a}));t.generateCsv(n)},r=function(){var e=Object(L.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(n,{url:"".concat("https://api.mailgen.org","/subscribers/all"),method:"get",successCallback:a,errorCallback:function(e){}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=Object(J.jsx)(E.a,{items:[{label:Object(J.jsx)("a",{onClick:r,children:"Export"}),key:"0",icon:Object(J.jsx)(Ye.a,{})},{label:Object(J.jsx)("a",{onClick:function(){e(ct(Object(o.a)(Object(o.a)({},t),{},{importOpened:!0})))},children:"Import"}),key:"1",icon:Object(J.jsx)(Ze.a,{})}]});return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(lt,{children:[Object(J.jsx)(dt,{children:Object(J.jsx)(K,{children:"Audience"})}),Object(J.jsx)(ut,{children:Object(J.jsxs)(De.b,{children:[Object(J.jsx)(Je.a,{title:"Refresh",children:Object(J.jsx)(pe.a,{onClick:function(){return e(tt({reload:!0}))},shape:"circle",icon:Object(J.jsx)(Qe.a,{})})}),Object(J.jsx)(Je.a,{title:"More Actions",children:Object(J.jsx)(xe.a,{overlay:c,trigger:["click"],children:Object(J.jsx)("a",{onClick:function(e){return e.preventDefault()},children:Object(J.jsx)(pe.a,{shape:"circle",icon:Object(J.jsx)(Xe.a,{})})})})})]})})]})})},jt=n(211),mt=n(83),pt=n(445),Ot={openWarning:!1,audience:[]},ht=Object(Me.b)({name:"selectedSubscribersForDelete",initialState:function(){return Ot},reducers:{addSubscribersForDelete:function(e,t){return e.openWarning=t.payload.openWarning,e.audience=t.payload.audience,e},resetAddedSubscriberForDelete:function(e,t){return Object.assign(e,Ot)}}}),xt=ht.actions,gt=xt.addSubscribersForDelete,ft=xt.resetAddedSubscriberForDelete,yt=ht.reducer,Ct={drawerOpened:!1,subscriberId:""},vt=Object(Me.b)({name:"subscriberDetailsDrawer",initialState:function(){return Ct},reducers:{updateSubscriberDetailsDrawer:function(e,t){return e.drawerOpened=t.payload.drawerOpened,e.subscriberId=t.payload.subscriberId,e}}}),Tt=vt.actions.updateSubscriberDetailsDrawer,St=vt.reducer,It=function(e){var t=e.subscriberId,n=Object(_e.b)(),a=Object(J.jsx)(E.a,{items:[{label:Object(J.jsx)("a",{onClick:function(){n(Tt({drawerOpened:!0,subscriberId:t}))},children:"Update"}),key:"0",icon:Object(J.jsx)(Oe.a,{})},{label:Object(J.jsx)("a",{onClick:function(){n(gt({openWarning:!0,audience:[t]}))},children:"Delete"}),key:"1",icon:Object(J.jsx)(pt.a,{}),danger:!0}]});return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(xe.a,{overlay:a,trigger:["click"],children:Object(J.jsx)("a",{onClick:function(e){return e.preventDefault()},children:Object(J.jsx)(pe.a,{shape:"circle",icon:Object(J.jsx)(Xe.a,{})})})})})};function Nt(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.trim())}var kt,wt,Et,At,Dt,Ft={imported:[],modifiedFieldsValues:{email:""}},_t=Object(Me.b)({name:"importSubscribersTransformedData",initialState:function(){return Ft},reducers:{updateImportSubscribersTransformedData:function(e,t){return Object(o.a)(Object(o.a)({},e),{},{imported:Object(Be.a)(t.payload.imported),modifiedFieldsValues:Object(o.a)({},t.payload.modifiedFieldsValues)})},updateSingleTransformedField:function(e,t){return e.modifiedFieldsValues[t.payload.key]=t.payload.value,e},updateImportedAudienceData:function(e,t){return e.imported=t.payload,e}}}),Bt=_t.actions,Mt=Bt.updateImportSubscribersTransformedData,Gt=Bt.updateSingleTransformedField,Lt=Bt.updateImportedAudienceData,Rt=_t.reducer,Pt=function(e){var t=e.defaultSelected,n=e.disabled,r=e.currentKey,c=Object(_e.b)(),i=Object(_e.c)((function(e){return e.importSubscribersTransformedData})),o=Object(a.useState)([]),l=Object(s.a)(o,2),d=l[0],u=l[1];return Object(a.useEffect)((function(){var e=Object.entries(i.modifiedFieldsValues).map((function(e){return e[1]}));u(e)}),[i.modifiedFieldsValues]),Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(ne.a,{onChange:function(e){c(Gt({key:r,value:e}))},disabled:n,defaultValue:t,style:{width:"25vh"},children:[Object(J.jsxs)(ne.a.OptGroup,{label:"Custom Fields",children:[Object(J.jsx)(ne.a.Option,{value:"ignoreField",children:"Ignore Field"}),Object(J.jsx)(ne.a.Option,{value:"leaveAsIs",children:"Leave As Is"})]}),Object(J.jsxs)(ne.a.OptGroup,{label:"Existing Fields",children:[Object(J.jsx)(ne.a.Option,{disabled:d.includes("email"),value:"email",children:"Email"}),Object(J.jsx)(ne.a.Option,{disabled:d.includes("ipAddress"),value:"ipAddress",children:"IP Address"}),Object(J.jsx)(ne.a.Option,{disabled:d.includes("firstName"),value:"firstName",children:"First Name"}),Object(J.jsx)(ne.a.Option,{disabled:d.includes("lastName"),value:"lastName",children:"Last Name"}),Object(J.jsx)(ne.a.Option,{disabled:d.includes("phoneNumber"),value:"phoneNumber",children:"Phone Number"}),Object(J.jsx)(ne.a.Option,{disabled:d.includes("birthDate"),value:"birthDate",children:"Birth Date"}),Object(J.jsx)(ne.a.Option,{disabled:d.includes("tags"),value:"tags",children:"Tags"})]})]})})},zt=Object(F.a)((function(e){return{elementBlock:{width:"23.5%",height:"100px",border:"1px solid black",display:"inline-block",marginLeft:"0.5%",marginRight:"1%",marginTop:"1.5%",borderColor:"#90A4AE",borderRadius:10},dropArea:{float:"right",width:"65%",height:"800px",marginRight:"3%"}}})),Vt=U.a.div(kt||(kt=Object(V.a)(["\n    text-align: center;\n    color: #90A4AE;\n    width: 23.5%;\n    height: 100px;\n    border: 1px solid black;\n    display: inline-block;\n    margin-left: 0.5%;\n    margin-right: 1%;\n    margin-top: 1.5%;\n    border-color: #90A4AE;\n    border-radius: 10px;\n"]))),Ut=U.a.div(wt||(wt=Object(V.a)(["\n    margin-top: 10%\n"]))),Ht=U.a.div(Et||(Et=Object(V.a)(["\n    font-weight: bold;\n    font-size: 2.5em;\n"]))),Kt=U.a.div(At||(At=Object(V.a)(["\n    font-size: 1.3em;\n"]))),Wt=function(e){zt();var t=e.id,n=e.onDragStart;return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(Vt,{id:t,onDragStart:n,draggable:"true",children:Object(J.jsxs)(Ut,{children:[Object(J.jsx)(Ht,{children:"T"}),Object(J.jsx)(Kt,{children:"Text"})]})})})},qt=function(){return[{title:"Email",dataIndex:"email",key:"email",render:function(e,t){var n=t.email,a=t.bounceStatus,r="",c="";return 0===a&&(r="Verified",c="green"),1===a&&(r="Soft Bounce",c="orange"),2===a&&(r="Hard Bounce",c="red"),3===a&&(r="Unverified",c="grey"),Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(De.b,{children:[Object(J.jsx)("span",{children:n}),Object(J.jsx)(P.a,{color:c,children:r})]})})}},{title:"First Name",dataIndex:"firstName",key:"firstName"},{title:"Last Name",dataIndex:"lastName",key:"lastName"},{title:"Date Subscribed",key:"dateSubscribed",dataIndex:"dateSubscribed",render:function(e){return me({value:e})}},{title:"Is Subscriber",key:"isSubscribed",dataIndex:"isSubscribed",render:function(e,t){return t.isSubscribed?Object(J.jsx)(jt.a,{style:{color:"green"}}):Object(J.jsx)(mt.a,{style:{color:"red"}})}},{title:"Actions",key:"isSubscribed",dataIndex:"isSubscribed",render:function(e,t){var n=t.id;return Object(J.jsx)(It,{subscriberId:n})}}]},Jt=function(){return{email:function(e){return{title:function(){return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(Pt,{disabled:!0,defaultSelected:"email"}),Object(J.jsx)("div",{style:{marginTop:10,textAlign:"center"},children:Object(J.jsx)("span",{children:e})})]})},dataIndex:"email",key:"email",render:function(e,t){var n=t.email,a=Nt(n);return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)("span",{style:{color:a?"":"red"},children:n})})}}},getGeneric:function(e){return{title:function(){return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(Pt,{currentKey:e,defaultSelected:"ignoreField"}),Object(J.jsx)("div",{style:{marginTop:10,textAlign:"center"},children:Object(J.jsx)("span",{children:e})})]})},dataIndex:e,key:e}}}},Yt=n(765),Zt=function(){var e=Object(d.b)().getAccessTokenSilently,t=Object(_e.c)((function(e){return e.selectedSubscribersForDelete})),n=Object(_e.b)(),a=function(){var a=Object(L.a)(G.a.mark((function a(){return G.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,st(e,{url:"".concat("https://api.mailgen.org","/subscribers/deleteSubscriber"),method:"post",request:{id:t.audience[0]},successCallback:function(e){r(),n(tt({reload:!0}))}});case 2:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),r=function(){n(ft())},c=function(){var e=Object(L.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(),e.next=3,a();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(J.jsx)("div",{children:Object(J.jsx)(Yt.a,{okButtonProps:{danger:!0},title:"Delete",visible:t.openWarning,onOk:c,onCancel:r,children:Object(J.jsx)("span",{children:"This action will remove this record forever. It is not reversable. Are you sure you want to proceed?"})})})},Qt=n(795),Xt=n(768),$t=n(199),en=n(440),tn=Object.freeze({NotSubscribed:0,Subscribed:1}),nn=Object.freeze([{id:tn.Subscribed,name:"Subscribed"},{id:tn.NotSubscribed,name:"Not Subscribed"}]),an=function(e){var t=e.bounceStatus,n=e.reason,a=function(){return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)("div",{children:Object(J.jsx)("span",{children:"Message delivery failed for this subscriber:"})}),Object(J.jsx)("div",{children:Object(J.jsx)("span",{style:{fontWeight:"bold"},children:n})})]})},r=function(){return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)("div",{children:Object(J.jsx)("span",{children:"Message delivery failed for this subscriber, you will not be able to send new messages to this subscriber, as this indicates that the email address simply does not exist:"})}),Object(J.jsx)("div",{children:Object(J.jsx)("span",{style:{fontWeight:"bold"},children:n})})]})};return Object(J.jsx)(J.Fragment,{children:1===t?Object(J.jsx)(Ae.a,{message:Object(J.jsx)("span",{style:{fontWeight:"bold"},children:"Soft Bounce"}),description:Object(J.jsx)(a,{}),type:"warning"}):2===t?Object(J.jsx)(Ae.a,{message:Object(J.jsx)("span",{style:{fontWeight:"bold"},children:"Hard Bounce"}),description:Object(J.jsx)(r,{}),type:"error"}):""})},rn=function(){var e=Object(_e.b)(),t=Object(_e.c)((function(e){return e.subscriberDetailsDrawer})),n=Object(_e.c)((function(e){return e.tags})),r=Object(d.b)().getAccessTokenSilently,c=Object(a.useState)(!1),i=Object(s.a)(c,2),l=i[0],u=i[1],b=Object(a.useState)({screen:!1,saveButton:!1}),j=Object(s.a)(b,2),m=j[0],p=j[1],O=Object(a.useState)({dayOfBirth:[],monthOfBirth:[],dateSubscribed:new Date}),h=Object(s.a)(O,2),x=h[0],g=h[1],f=Object(a.useState)({email:!0}),y=Object(s.a)(f,2),C=y[0],v=y[1],T=function(){e(Tt({drawerState:!1}))},S=function(){var e={email:!0};return Nt(x.email)||(e.email=!1),v(e),!Object.values(e).some((function(e){return 0==e}))},I=function(){var n=Object(L.a)(G.a.mark((function n(){return G.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return p(Object(o.a)(Object(o.a)({},m),{},{screen:!0})),n.next=3,st(r,{url:"".concat("https://api.mailgen.org","/subscribers/getSubscriberDetails?id=").concat(t.subscriberId),method:"get",successCallback:function(t){g(Object(o.a)(Object(o.a)({},t.subscriber),{},{dayOfBirth:t.subscriber.dayOfBirth[0],monthOfBirth:t.subscriber.monthOfBirth[0]})),e(Pe(null===t.subscriber.tags?[]:t.subscriber.tags)),p(Object(o.a)(Object(o.a)({},m),{},{screen:!1}))},errorCallback:function(e){p(Object(o.a)(Object(o.a)({},m),{},{screen:!1}))}});case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),N=function(){var t=Object(L.a)(G.a.mark((function t(){var a;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(S()){t.next=2;break}return t.abrupt("return");case 2:return p(Object(o.a)(Object(o.a)({},m),{},{saveButton:!0})),a={id:x.id,firstName:x.firstName,lastName:x.lastName,email:x.email,isSubscribed:x.isSubscribed===tn.Subscribed||x.isSubscribed,tags:n,phoneNumber:x.phoneNumber,dayOfBirth:x.dayOfBirth,monthOfBirth:x.monthOfBirth},t.next=6,st(r,{url:"".concat("https://api.mailgen.org","/subscribers/updateSubscriber"),method:"post",request:a,successCallback:function(t){t.isSuccessful&&(T(),e(tt({reload:!0}))),p(Object(o.a)(Object(o.a)({},m),{},{saveButton:!1}))},errorCallback:function(){}});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){t.drawerOpened&&(I(),u(!0)),t.drawerOpened||u(!1)}),[t.drawerOpened]),Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(Xt.a,{title:"Details",placement:"right",onClose:T,visible:t.drawerOpened,children:Object(J.jsxs)($t.a,{spinning:m.screen,children:[Object(J.jsx)(A.a,{gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(an,{bounceStatus:x.bounceStatus,reason:x.bounceReason})})}),Object(J.jsxs)(A.a,{style:{marginTop:10},gutter:[16,16],children:[Object(J.jsx)(D.a,{span:12,children:Object(J.jsx)(en.a,{onChange:function(e){return g(Object(o.a)(Object(o.a)({},x),{},{firstName:e.target.value}))},value:x.firstName,placeholder:"First Name"})}),Object(J.jsx)(D.a,{span:12,children:Object(J.jsx)(en.a,{onChange:function(e){return g(Object(o.a)(Object(o.a)({},x),{},{lastName:e.target.value}))},value:x.lastName,placeholder:"Last Name"})})]}),Object(J.jsxs)(A.a,{style:{marginTop:10},gutter:[16,16],children:[Object(J.jsx)(D.a,{span:12,children:Object(J.jsx)(en.a,{status:C.email?"":"error",onChange:function(e){return g(Object(o.a)(Object(o.a)({},x),{},{email:e.target.value}))},value:x.email,placeholder:"Email"})}),Object(J.jsx)(D.a,{span:12,children:Object(J.jsx)(en.a,{onChange:function(e){return g(Object(o.a)(Object(o.a)({},x),{},{phoneNumber:e.target.value}))},value:x.phoneNumber,placeholder:"Phone Number"})})]}),Object(J.jsxs)(A.a,{style:{marginTop:10},gutter:[16,16],children:[Object(J.jsx)(D.a,{span:12,children:Object(J.jsx)(ne.a,{style:{width:"100%"},placeholder:"Day Of Birth",onChange:function(e){return g(Object(o.a)(Object(o.a)({},x),{},{dayOfBirth:e}))},value:x.dayOfBirth,children:Array.from({length:31},(function(e,t){return t+1})).map((function(e){return Object(J.jsx)(ne.a.Option,{value:e,children:e},e)}))})}),Object(J.jsx)(D.a,{span:12,children:Object(J.jsx)(ne.a,{style:{width:"100%"},placeholder:"Month Of Birth",onChange:function(e){return g(Object(o.a)(Object(o.a)({},x),{},{monthOfBirth:e}))},value:x.monthOfBirth?x.monthOfBirth-1:x.monthOfBirth,children:de.a.months().map((function(e,t){return Object(J.jsx)(ne.a.Option,{value:t++,children:e},t++)}))})})]}),Object(J.jsxs)(A.a,{style:{marginTop:10},gutter:[16,16],children:[Object(J.jsx)(D.a,{span:12,children:Object(J.jsx)(ne.a,{disabled:x.unsubscribedFromEmail||x.isSubscribed===tn.NotSubscribed,style:{width:"100%"},placeholder:"Is Subscriber",onChange:function(e){return g(Object(o.a)(Object(o.a)({},x),{},{isSubscribed:e}))},value:x.isSubscribed?tn.Subscribed:tn.NotSubscribed,children:nn.map((function(e){return Object(J.jsx)(ne.a.Option,{value:e.id,children:e.name},e.id)}))})}),Object(J.jsx)(D.a,{span:12,children:Object(J.jsx)(en.a,{value:me({value:x.dateSubscribed}),disabled:!0,placeholder:"Date Subscribed"})})]}),Object(J.jsx)(A.a,{style:{marginTop:10},gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(Ue,{customReload:l})})}),Object(J.jsx)(A.a,{style:{marginTop:10},gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(pe.a,{disabled:2===x.bounceStatus,onClick:N,style:{float:"right"},type:"primary",loading:m.saveButton,children:"Update"})})})]})})})},cn=n(442),sn=n(763),on=n(739),ln=n(794),dn=function(e){var t=e.loading,n=e.importedSubscribers,r=Object(_e.b)(),c=Object(_e.c)((function(e){return e.importSubscribersTransformedData})),i=Object(a.useState)([]),l=Object(s.a)(i,2),d=l[0],u=l[1],b=Object(a.useState)([]),j=Object(s.a)(b,2),m=j[0],p=j[1],O=Object(a.useState)({email:null}),h=Object(s.a)(O,2),x=h[0],g=h[1];return Object(a.useEffect)((function(){var e={email:null};if(n.length<=0&&(p([]),u([])),n.length>0){e.email=function(e){var t=null,n=Object.keys(e[0]);return e.forEach((function(e){null===t&&n.forEach((function(n){null===t&&Nt(e[n]?e[n]:"")&&(t=n)}))})),t}(n);var t=n.map((function(t){var n={},a=[];return Object.entries(e).map((function(e){var r=e[0],c=e[1];n[r]=t[c],a.push(c)})),Object.entries(t).map((function(e){a.includes(e[0])||(n[e[0]]=e[1])})),n}));p(t),r(Lt(t))}g(e),function(){var e=Jt(),t=[],n={};m[0]&&(Object.keys(m[0]).forEach((function(a){"email"===a&&x.email?(n[a]="email",t.push(e.email(x.email))):Object.keys(x).includes(a)||(n[a]="ignoreField",t.push(e.getGeneric(a)))})),r(Mt(Object(o.a)(Object(o.a)({},c),{},{modifiedFieldsValues:Object(o.a)(Object(o.a)({},c.modifiedFieldsValues),n)}))),u([].concat(t)))}()}),[n]),Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(H,{children:Object(J.jsx)(z.a,{loading:t,columns:d,scroll:{x:!0},dataSource:m.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{key:"".concat(t,"-index")})}))})})})},un=Object.freeze({NotSubscribed:0,Subscribed:1}),bn=Object.freeze([{id:un.Subscribed,name:"Subscribers"},{id:un.NotSubscribed,name:"Not Subscribers"}]),jn=U.a.span(Dt||(Dt=Object(V.a)(["\n    // color: #1a3353;\n    font-weight: 500;\n    font-size: 15px;\n"]))),mn=function(){var e=Object(_e.c)((function(e){return e.subscriberManagementDrawer})),t=Object(_e.c)((function(e){return e.importSubscribersTransformedData})),n=Object(_e.c)((function(e){return e.tags})),r=Object(_e.b)(),c=Object(a.useState)(!1),i=Object(s.a)(c,2),l=i[0],u=i[1],b=Object(a.useState)(""),j=Object(s.a)(b,2),m=j[0],p=j[1],O=Object(a.useState)({areSubscribers:un.Subscribed,importedSubscribers:[]}),h=Object(s.a)(O,2),x=h[0],g=h[1],f=Object(d.b)().getAccessTokenSilently,y={name:"file",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",headers:{authorization:"authorization-text"},beforeUpload:function(e){var t="text/csv"===e.type;return t||cn.b.error("".concat(e.name," is not a valid csv file")),t||sn.a.LIST_IGNORE},onChange:function(e){if("removed"===e.file.status)return cn.b.success("".concat(e.file.name," was removed")),void g(Object(o.a)(Object(o.a)({},x),{},{importedSubscribers:[]}));"uploading"!==e.file.status&&cn.b.info("".concat(e.file.name," is being processed")),"done"===e.file.status?cn.b.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&cn.b.error("".concat(e.file.name," file upload failed."));var t=new FileReader;t.readAsText(e.file.originFileObj),t.onloadend=function(e){for(var t=function(e,t){t=t||",";for(var n=new RegExp("(\\"+t+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+t+"\\r\\n]*))","gi"),a=[[]],r=null;r=n.exec(e);){var c=r[1];c.length&&c!==t&&a.push([]);var i=void 0;i=r[2]?r[2].replace(new RegExp('""',"g"),'"'):r[3],a[a.length-1].push(i)}return a}(e.target.result),n=t[0],a=[],r=function(e){if(""===t[e][0])return"continue";var r={};n.forEach((function(n,a){r[n]=t[e][a]})),a.push(r)},c=1;c<t.length;c++)r(c);p(""),g(Object(o.a)(Object(o.a)({},x),{},{importedSubscribers:a}))}}},C=function(){var a=Object(L.a)(G.a.mark((function a(){var c;return G.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=[],t.imported.forEach((function(e){var n={extra:{}};for(var a in e){var r=t.modifiedFieldsValues[a];if(r){if("email"===r&&(n.email=e[a]),"ipAddress"===r&&(n.ipAddress=e[a]),"firstName"===r&&(n.firstName=e[a]),"lastName"===r&&(n.lastName=e[a]),"phoneNumber"===r&&(n.phoneNumber=e[a]),"birthDate"===r&&(n.birthDate=e[a]),"tags"===r){console.log(e[a]);var i=e[a].split(","),s=""===i[0]?[]:i;n.tags=s}"leaveAsIs"===r&&(n.extra[a]=e[a])}}c.push(Object(o.a)(Object(o.a)({},n),{},{extra:JSON.stringify(n.extra)}))})),a.next=4,st(f,{url:"".concat("https://api.mailgen.org","/subscribers/importSubscribers"),method:"post",request:{areSubscribers:x.areSubscribers,subscribers:c,tags:n},successCallback:function(t){r(tt({reload:!0})),u(!1),t.isSuccess?r(ct(Object(o.a)(Object(o.a)({},e),{},{importOpened:!1}))):p(t.errorMessage)},errorCallback:function(){}});case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(Yt.a,{visible:e.importOpened,title:"Import Contacts",width:900,onOk:C,onCancel:function(){r(ct(Object(o.a)(Object(o.a)({},e),{},{importOpened:!1})))},footer:[Object(J.jsx)(pe.a,{type:"primary",loading:l,onClick:C,children:"Continue"},"submit")],children:[Object(J.jsxs)(A.a,{children:[Object(J.jsx)(D.a,{style:{marginTop:3},span:11,children:Object(J.jsx)(jn,{children:"The contacts you import are:"})}),Object(J.jsx)(D.a,{span:10,children:Object(J.jsx)(ne.a,{style:{width:"100%"},placeholder:"Is Subscriber",onChange:function(e){return g(Object(o.a)(Object(o.a)({},x),{},{areSubscribers:e}))},value:x.areSubscribers,children:bn.map((function(e){return Object(J.jsx)(ne.a.Option,{value:e.id,children:e.name},e.id)}))})})]}),Object(J.jsxs)(A.a,{style:{marginTop:10},children:[Object(J.jsx)(D.a,{style:{marginTop:3},span:11,children:Object(J.jsx)(jn,{children:"The contacts relate to these tags:"})}),Object(J.jsx)(D.a,{span:10,children:Object(J.jsx)(Ue,{})})]}),Object(J.jsx)(on.a,{orientation:"left",plain:!0,children:"Import"}),Object(J.jsx)(A.a,{style:{marginTop:10},children:Object(J.jsx)(D.a,{span:10,children:Object(J.jsx)(sn.a,Object(o.a)(Object(o.a)({},y),{},{children:Object(J.jsx)(pe.a,{icon:Object(J.jsx)(ln.a,{}),children:"Upload"})}))})}),Object(J.jsxs)(A.a,{style:{marginTop:10},children:[Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(dn,{loading:l,importedSubscribers:x.importedSubscribers})}),Object(J.jsx)(D.a,{span:24,children:m.length>0?Object(J.jsx)(Ae.a,{style:{marginTop:10},type:"error",showIcon:!0,message:"Error",description:m}):""})]})]})})},pn=Object(J.jsx)(E.a,{items:[{key:"1",icon:Object(J.jsx)(ge.a,{}),label:Object(J.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"/simple-template",children:"Create a simple template"})},{key:"2",icon:Object(J.jsx)(fe.a,{}),label:Object(J.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"/drag-and-drop   ",children:"Drag & Drop Builder"})}]}),On=function(e){var t=e.value,n=e.handler,r=e.disabled,c=e.valid,i=Object(a.useState)([]),o=Object(s.a)(i,2),l=o[0],u=o[1],b=Object(d.b)().getAccessTokenSilently,j=function(){var e=Object(L.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(b,{url:"".concat("https://api.mailgen.org","/emailTemplates/getTemplates"),method:"get",successCallback:function(e){var t=e.templates.map((function(e){return{id:e.id,name:e.name}}));u(t)},errorCallback:function(e){}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return j()}),[]),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(A.a,{gutter:[16,16],children:[Object(J.jsx)(D.a,{span:20,children:Object(J.jsx)(ne.a,{style:{width:"100%",textAlign:"left"},placeholder:"Select template...",disabled:r,onChange:n,value:t,status:c?"":"error",children:l.map((function(e){return Object(J.jsx)(ne.a.Option,{value:e.id,children:e.name},e.id)}))})}),Object(J.jsx)(D.a,{span:4,children:Object(J.jsx)(pe.a,{size:"small",style:{float:"left",marginTop:"5%"},shape:"circle",onClick:Object(L.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),icon:Object(J.jsx)(Qe.a,{})})})]}),Object(J.jsx)(A.a,{children:Object(J.jsx)(D.a,{span:2,children:Object(J.jsx)(xe.a,{overlay:pn,placement:"bottom",arrow:{pointAtCenter:!0},children:Object(J.jsx)(pe.a,{type:"link",icon:Object(J.jsx)(ye.a,{}),children:"Add email template"})})})})]})},hn=Object(Me.b)({name:"sendingEmails",initialState:function(){return null},reducers:{updateSendingEmails:function(e,t){return t.payload?t.payload:null},resetSendingEmails:function(e,t){return null,null}}}),xn=hn.actions,gn=xn.updateSendingEmails,fn=xn.resetSendingEmails,yn=hn.reducer,Cn=function(e){var t=e.customReload,n=e.status,r=e.disabled,c=Object(_e.b)(),i=Object(_e.c)((function(e){return e.sendingEmails})),o=Object(a.useState)([]),l=Object(s.a)(o,2),u=l[0],b=l[1],j=Object(d.b)().getAccessTokenSilently,p=(Object(B.f)(),m()),O=function(){var e=Object(L.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j({audience:p.audience,scope:"read:current_user"});case 2:t=e.sent,fetch("".concat("https://api.mailgen.org","/sendingEmails/all"),{method:"get",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){b(e.data.sendingEmails)})).catch((function(e){return console.log(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return O()}),[]),Object(a.useEffect)((function(){t&&O()}),[t]),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(A.a,{gutter:[16,16],children:[Object(J.jsx)(D.a,{span:20,children:Object(J.jsx)(ne.a,{disabled:r,status:n||"",style:{width:"100%",textAlign:"left"},placeholder:"Select sending email ...",value:i,allowClear:!0,onChange:function(e){c(gn(e))},children:u.map((function(e,t){if(1===e.status)return Object(J.jsx)(ne.a.Option,{value:e.id,children:e.email},t)}))})}),Object(J.jsx)(D.a,{span:4,children:Object(J.jsx)(pe.a,{size:"small",style:{float:"left",marginTop:"5%"},shape:"circle",onClick:Object(L.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),icon:Object(J.jsx)(Qe.a,{})})})]}),Object(J.jsx)(A.a,{children:Object(J.jsx)(D.a,{span:2,children:Object(J.jsx)(pe.a,{icon:Object(J.jsx)(ye.a,{}),style:{float:"left"},onClick:function(){return window.open("/profile?tab=sendingSettings","_blank")},type:"link",children:"Add sending email"})})})]})},vn=function(){var e=Object(_e.b)(),t=Object(_e.c)((function(e){return e.subscriberManagementDrawer})),n=Object(_e.c)((function(e){return e.tags})),r=Object(_e.c)((function(e){return e.sendingEmails})),c=Object(d.b)().getAccessTokenSilently,i=Object(a.useState)(!1),l=Object(s.a)(i,2),u=l[0],b=l[1],j=Object(a.useState)({subject:"",senderName:"",senderEmail:"",emailTemplateId:null}),m=Object(s.a)(j,2),p=m[0],O=m[1],h=Object(a.useState)({subject:!0,senderEmail:!0,emailTemplateId:!0,tags:!0}),x=Object(s.a)(h,2),g=x[0],f=x[1],y=function(){e(ct(Object(o.a)(Object(o.a)({},t),{},{sendEmailsByTags:!1})))},C=function(){var e={subject:!0,senderEmail:!0,emailTemplateId:!0,tags:!0};return(!p.subject||p.subject.length<3)&&(e.subject=!1),(!p.emailTemplateId||p.emailTemplateId.length<3)&&(e.emailTemplateId=!1),n.length<=0&&(e.tags=!1),f(e),!Object.values(e).some((function(e){return 0==e}))},v=function(){var e=Object(L.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C()){e.next=3;break}return e.abrupt("return");case 3:return b(!0),e.next=6,st(c,{url:"".concat("https://api.mailgen.org","/emails/sendMassEmails"),method:"post",request:{subject:p.subject,senderEmail:p.senderEmail,replyToSendingEmail:r,senderName:p.senderName,emailTemplateId:p.emailTemplateId,tags:n},successCallback:function(){b(!1),y()},errorCallback:function(e){b(!1)}});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(Xt.a,{width:"900",title:"Send Emails By Tags",placement:"right",onClose:y,visible:t.sendEmailsByTags,children:[Object(J.jsx)(A.a,{gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(en.a,{status:g.subject?"":"error",onChange:function(e){return O(Object(o.a)(Object(o.a)({},p),{},{subject:e.target.value}))},value:p.subject,placeholder:"Subject"})})}),Object(J.jsxs)(A.a,{style:{marginTop:10},gutter:[16,16],children:[Object(J.jsx)(D.a,{span:12,children:Object(J.jsx)(en.a,{onChange:function(e){return O(Object(o.a)(Object(o.a)({},p),{},{senderName:e.target.value}))},value:p.senderName,placeholder:"Sender Name"})}),Object(J.jsx)(D.a,{span:12,children:Object(J.jsx)(Cn,{})})]}),Object(J.jsx)(A.a,{style:{marginTop:10},gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(On,{disabled:!1,valid:g.emailTemplateId,value:p.emailTemplateId,handler:function(e){O(Object(o.a)(Object(o.a)({},p),{},{emailTemplateId:e}))}})})}),Object(J.jsx)(A.a,{style:{marginTop:10},gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(Ue,{status:g.tags?"":"error"})})}),Object(J.jsx)(A.a,{style:{marginTop:10},gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(pe.a,{onClick:v,style:{float:"right"},type:"primary",loading:u,children:"Send"})})})]})})},Tn=function(e){var t=e.selectedSubscribers,n=Object(_e.b)(),r=Object(_e.c)((function(e){return e.subscriberManagementDrawer})),c=Object(_e.c)((function(e){return e.sendingEmails})),i=Object(d.b)().getAccessTokenSilently,l=Object(a.useState)(!1),u=Object(s.a)(l,2),b=u[0],j=u[1],m=Object(a.useState)({subject:"",senderName:"",senderEmail:"",emailTemplateId:null}),p=Object(s.a)(m,2),O=p[0],h=p[1],x=Object(a.useState)({subject:!0,emailTemplateId:!0}),g=Object(s.a)(x,2),f=g[0],y=g[1],C=function(){n(ct(Object(o.a)(Object(o.a)({},r),{},{sendEmailsForSubscribers:!1})))},v=function(){var e={subject:!0,emailTemplateId:!0};return(!O.subject||O.subject.length<3)&&(e.subject=!1),(!O.emailTemplateId||O.emailTemplateId.length<3)&&(e.emailTemplateId=!1),y(e),!Object.values(e).some((function(e){return 0==e}))},T=function(){var e=Object(L.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v()){e.next=2;break}return e.abrupt("return");case 2:return j(!0),e.next=5,st(i,{url:"".concat("https://api.mailgen.org","/emails/sendMassEmails"),method:"post",request:{subject:O.subject,senderEmail:O.senderEmail,senderName:O.senderName,emailTemplateId:O.emailTemplateId,subscribers:t,replyToSendingEmail:c},successCallback:function(){j(!1),C()},errorCallback:function(e){j(!1)}});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(Xt.a,{width:"700",title:"Send Emails For Subscribers",placement:"right",onClose:C,visible:r.sendEmailsForSubscribers,children:[Object(J.jsx)(A.a,{gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(en.a,{status:f.subject?"":"error",onChange:function(e){return h(Object(o.a)(Object(o.a)({},O),{},{subject:e.target.value}))},value:O.subject,placeholder:"Subject"})})}),Object(J.jsxs)(A.a,{style:{marginTop:10},gutter:[16,16],children:[Object(J.jsx)(D.a,{span:12,children:Object(J.jsx)(en.a,{onChange:function(e){return h(Object(o.a)(Object(o.a)({},O),{},{senderName:e.target.value}))},value:O.senderName,placeholder:"Sender Name"})}),Object(J.jsx)(D.a,{span:12,children:Object(J.jsx)(Cn,{})})]}),Object(J.jsx)(A.a,{style:{marginTop:10},gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(On,{disabled:!1,valid:f.emailTemplateId,value:O.emailTemplateId,handler:function(e){h(Object(o.a)(Object(o.a)({},O),{},{emailTemplateId:e}))}})})}),Object(J.jsx)(A.a,{style:{marginTop:10},gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(pe.a,{onClick:T,style:{float:"right"},type:"primary",loading:b,children:"Send"})})})]})})},Sn=function(){var e=Object(_e.c)((function(e){return e.reloadAudienceReport.reload})),t=Object(_e.c)((function(e){return e.subscriberManagementDrawer})),n=Object(_e.b)(),r=Object(a.useState)(!1),c=Object(s.a)(r,2),i=c[0],l=c[1],u=Object(a.useState)([]),b=Object(s.a)(u,2),j=b[0],m=b[1],p=Object(a.useState)([]),O=Object(s.a)(p,2),h=O[0],x=O[1],g=Object(a.useState)(0),f=Object(s.a)(g,2),y=f[0],C=f[1],v=Object(a.useState)({sendEmails:!0,sendEmailsByTags:!1}),T=Object(s.a)(v,2),S=T[0],I=T[1],N=Object(a.useState)({current:1,size:10}),k=Object(s.a)(N,2),w=k[0],E=k[1],F=Object(d.b)().getAccessTokenSilently,_=function(){var e=Object(L.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,st(F,{url:"".concat("https://api.mailgen.org","/subscribers/getSubscribers?currentPage=").concat(w.current,"&pageSize=").concat(w.size),method:"get",successCallback:function(e){m(e.subscribers),C(e.totalPages),l(!1),n(tt({reload:!1}))},errorCallback:function(){}});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B={onChange:function(e){e.length?I({sendEmails:!1,sendEmailsByTags:!0}):I({sendEmails:!0,sendEmailsByTags:!1}),x(e)},getCheckboxProps:function(e){return{name:e.id}}};return Object(a.useEffect)((function(){_()}),[]),Object(a.useEffect)((function(){e&&_()}),[e,w.current]),Object(a.useEffect)((function(){_()}),[w.current]),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(H,{children:[Object(J.jsx)(A.a,{children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(bt,{})})}),Object(J.jsx)(A.a,{children:Object(J.jsxs)(De.b,{children:[Object(J.jsx)(D.a,{span:3,children:Object(J.jsx)(pe.a,{disabled:S.sendEmailsByTags,icon:Object(J.jsx)(Qt.a,{}),type:"default",style:{float:"left"},onClick:function(){n(ct(Object(o.a)(Object(o.a)({},t),{},{sendEmailsByTags:!0})))},children:"Send Emails By Tags"})}),Object(J.jsx)(D.a,{span:3,children:Object(J.jsx)(pe.a,{disabled:S.sendEmails,icon:Object(J.jsx)(Qt.a,{}),type:"default",style:{float:"left"},onClick:function(){n(ct(Object(o.a)(Object(o.a)({},t),{},{sendEmailsForSubscribers:!0})))},children:"Send Emails"})})]})}),Object(J.jsx)(A.a,{style:{marginTop:10},children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(z.a,{loading:i,columns:qt(),dataSource:j.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{key:e.id})})),rowSelection:Object(o.a)({type:"checkbox"},B),pagination:{current:w.current,onChange:function(e){return E(Object(o.a)(Object(o.a)({},w),{},{current:e}))},total:y,pageSize:10,showSizeChanger:!1,showQuickJumper:!0}})})})]}),Object(J.jsx)(Zt,{}),Object(J.jsx)(rn,{}),Object(J.jsx)(mn,{}),Object(J.jsx)(vn,{}),Object(J.jsx)(Tn,{selectedSubscribers:h})]})},In=n(694),Nn=n(814),kn=Object(F.a)((function(e){return{content:Object(o.a)({display:"flex",padding:e.spacing(0,0,0,38)},e.mixins.toolbar),main:{padding:e.spacing(0,0,0,30)},save:{backgroundColor:"#009be5",color:"white",margin:e.spacing(2.5,0,0,20)},name:{margin:e.spacing(0,148,1,0)},fieldsContainer:{margin:e.spacing(10,0,0,28)}}})),wn=n(435),En=n.n(wn),An=n(94),Dn=n.n(An),Fn=n(23),_n=n(740),Bn=n(742);var Mn,Gn,Ln,Rn,Pn,zn,Vn,Un,Hn,Kn,Wn,qn,Jn,Yn,Zn,Qn,Xn,$n,ea,ta,na,aa,ra,ca,ia,sa,oa,la,da,ua,ba,ja,ma,pa,Oa,ha,xa,ga,fa,ya,Ca,va,Ta,Sa,Ia,Na,ka,wa,Ea,Aa,Da,Fa,_a,Ba,Ma,Ga,La,Ra,Pa,za,Va=Object(Fn.a)((function(e){return{button:{margin:e.spacing.unit,paddingLeft:e.spacing.unit},input:{display:"none"},circularProgress:{marginLeft:0,marginRight:e.spacing.unit}}}))((function(e){var t=e.classes;return Object(J.jsx)("div",{children:Object(J.jsxs)(_n.a,Object(o.a)(Object(o.a)({},e),{},{disabled:e.loading,style:{color:"white"},children:[e.loading?Object(J.jsx)(Bn.a,{style:{color:"white"},className:t.circularProgress,size:20}):"",e.text]}))})})),Ua=n(779),Ha=n(780),Ka=n(764),Wa=n(776),qa=n(434),Ja=n.n(qa),Ya=n(31),Za=U.a.div(Mn||(Mn=Object(V.a)(["\n    width: 100%;\n    text-align: center;\n    background-color: #ECEFF1;\n"]))),Qa=U.a.span(Gn||(Gn=Object(V.a)(["\n    text-align: center;\n    font-weight: lighter;\n    font-size: 1.3em;\n"]))),Xa=U.a.img(Ln||(Ln=Object(V.a)(["\n    width: 5%;\n    margin-left: ;.5%\n"]))),$a=function(){return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(Za,{children:[Object(J.jsx)(Qa,{children:"Powered by "}),Object(J.jsx)(Xa,{src:window.location.protocol+"//"+window.location.host+"/mailgen-logo.svg"}),Object(J.jsx)(Qa,{children:"Mailgen"})]})})},er=n(777),tr=n(781),nr=U.a.div(Rn||(Rn=Object(V.a)(["\n    text-align: center;\n    color: #90A4AE;\n    width: 23.5%;\n    height: 100px;\n    border: 1px solid black;\n    display: inline-block;\n    margin-left: 0.5%;\n    margin-right: 1%;\n    margin-top: 1.5%;\n    border-color: #90A4AE;\n    border-radius: 10px;\n"]))),ar=U.a.div(Pn||(Pn=Object(V.a)(["\n    margin-top: 10%\n"]))),rr=U.a.div(zn||(zn=Object(V.a)(["\n    font-weight: bold;\n    font-size: 2.5em;\n"]))),cr=U.a.div(Vn||(Vn=Object(V.a)(["\n    font-size: 1.3em;\n"]))),ir=function(e){var t=e.id,n=e.onDragStart;return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(nr,{id:t,draggable:"true",onDragStart:n,children:Object(J.jsxs)(ar,{children:[Object(J.jsx)(rr,{children:"H1"}),Object(J.jsx)(cr,{children:"Title"})]})})})},sr=n(430),or=n.n(sr),lr=U.a.div(Un||(Un=Object(V.a)(["\n    text-align: center;\n    color: #90A4AE;\n    width: 23.5%;\n    height: 100px;\n    border: 1px solid black;\n    display: inline-block;\n    margin-left: 0.5%;\n    margin-right: 1%;\n    margin-top: 1.5%;\n    border-color: #90A4AE;\n    border-radius: 10px;\n"]))),dr=U.a.div(Hn||(Hn=Object(V.a)(["\n    margin-top: 10%\n"]))),ur=(U.a.div(Kn||(Kn=Object(V.a)(["\n    font-weight: bold;\n    font-size: 2.5em;\n"]))),U.a.div(Wn||(Wn=Object(V.a)(["\n    font-size: 1.3em;\n"])))),br=function(e){var t=e.id,n=e.onDragStart;return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(lr,{id:t,onDragStart:n,draggable:"true",children:Object(J.jsxs)(dr,{children:[Object(J.jsx)(or.a,{style:{fontSize:"3.2em"}}),Object(J.jsx)(ur,{children:"Social"})]})})})},jr=n(432),mr=n.n(jr),pr=U.a.div(qn||(qn=Object(V.a)(["\n    text-align: center;\n    color: #90A4AE;\n    width: 23.5%;\n    height: 100px;\n    border: 1px solid black;\n    display: inline-block;\n    margin-left: 0.5%;\n    margin-right: 1%;\n    margin-top: 1.5%;\n    border-color: #90A4AE;\n    border-radius: 10px;\n"]))),Or=U.a.div(Jn||(Jn=Object(V.a)(["\n    margin-top: 10%;\n"]))),hr=U.a.div(Yn||(Yn=Object(V.a)(["\n    font-size: 1.3em;\n"]))),xr=function(e){var t=e.id,n=e.onDragStart;return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(pr,{id:t,onDragStart:n,draggable:"true",children:Object(J.jsxs)(Or,{children:[Object(J.jsx)(mr.a,{style:{fontSize:"3.2em"}}),Object(J.jsx)(hr,{children:"Image"})]})})})},gr=U.a.div(Zn||(Zn=Object(V.a)(["\n    text-align: center;\n    color: #90A4AE;\n    width: 23.5%;\n    height: 100px;\n    border: 1px solid black;\n    display: inline-block;\n    margin-left: 0.5%;\n    margin-right: 1%;\n    margin-top: 1.5%;\n    border-color: #90A4AE;\n    border-radius: 10px;\n"]))),fr=U.a.div(Qn||(Qn=Object(V.a)(["\n    margin-top: 35%;\n"]))),yr=U.a.div(Xn||(Xn=Object(V.a)(["\n    font-size: 1.3em;\n"]))),Cr=U.a.hr($n||($n=Object(V.a)(["\n    width: 70%; \n    border: none; \n    background-color: #90A4AE; \n    height: 7px; \n    border-radius: 10px;\n"]))),vr=function(e){var t=e.id,n=e.onDragStart;return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(gr,{id:t,onDragStart:n,draggable:"true",children:Object(J.jsxs)(fr,{children:[Object(J.jsx)(Cr,{}),Object(J.jsx)(yr,{children:"Divider"})]})})})},Tr=function(){var e=function(e){e.dataTransfer.setData("id",e.target.id),e.dataTransfer.setData("type","element")};return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)("div",{style:{float:"left",width:"30%",height:"800px",background:"#ECEFF1",marginTop:"10px"},children:[Object(J.jsx)(ir,{id:"titleElement",onDragStart:function(t){return e(t)}}),Object(J.jsx)(Wt,{id:"textElement",onDragStart:function(t){return e(t)}}),Object(J.jsx)(br,{id:"socialElement",onDragStart:function(t){return e(t)}}),Object(J.jsx)(xr,{id:"imageElement",onDragStart:function(t){return e(t)}}),Object(J.jsx)(vr,{id:"dividerElement",onDragStart:function(t){return e(t)}})]})})},Sr=U.a.div(ea||(ea=Object(V.a)(["\n    display: flex;\n    border: 1px solid #90A4AE;\n    border-radius: 10px;\n    width: 90%;\n    height: 100px;\n    margin-left: 5%;\n    margin-top: 3%;\n    background-color: white;\n    padding-top: 10px;\n"]))),Ir=U.a.div(ta||(ta=Object(V.a)(["\n    border: 1.5px dashed #90A4AE;\n    border-radius: 10px;\n    width: 42%;\n    height: 50%;\n    margin-left: 5%;\n    margin-top: 3%;\n    background-color: rgb(236, 239, 241);\n"]))),Nr=function(e){var t=e.id,n=e.onDragStart;return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(Sr,{id:t,onDragStart:function(e){return n(e)},children:[Object(J.jsx)(Ir,{}),Object(J.jsx)(Ir,{})]})})},kr=U.a.div(na||(na=Object(V.a)(["\n    border: 1px solid #90A4AE;\n    border-radius: 10px;\n    width: 90%;\n    height: 100px;\n    margin-left: 5%;\n    margin-top: 3%;\n    background-color: white;\n    padding-top: 10px;\n    position: relative;\n"]))),wr=U.a.div(aa||(aa=Object(V.a)(["\n    border: 1.5px dashed #90A4AE;\n    border-radius: 10px;\n    width: 90%;\n    height: 50%;\n    margin-left: 5%;\n    margin-top: 3%;\n    background-color: rgb(236, 239, 241);\n"]))),Er=(U.a.div(ra||(ra=Object(V.a)(["\n    position: absolute;\n    color: transparent;\n    width: 100%;\n    height: 100%;\n"]))),function(e){var t=e.id,n=e.onDragStart;return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(kr,{id:t,onDragStart:function(e){return n(e)},children:Object(J.jsx)(wr,{})})})}),Ar=U.a.div(ca||(ca=Object(V.a)(["\n    display: flex;\n    border: 1px solid #90A4AE;\n    border-radius: 10px;\n    width: 90%;\n    height: 100px;\n    margin-left: 5%;\n    margin-top: 3%;\n    background-color: white;\n    padding-top: 10px;\n"]))),Dr=U.a.div(ia||(ia=Object(V.a)(["\n    border: 1.5px dashed #90A4AE;\n    border-radius: 10px;\n    width: 27%;\n    height: 50%;\n    margin-left: 5%;\n    margin-top: 3%;\n    background-color: rgb(236, 239, 241);\n"]))),Fr=function(e){var t=e.id,n=e.onDragStart;return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(Ar,{id:t,onDragStart:function(e){return n(e)},children:[Object(J.jsx)(Dr,{}),Object(J.jsx)(Dr,{}),Object(J.jsx)(Dr,{})]})})},_r=U.a.div(sa||(sa=Object(V.a)(["\n    display: flex;\n    border: 1px solid #90A4AE;\n    border-radius: 10px;\n    width: 90%;\n    height: 100px;\n    margin-left: 5%;\n    margin-top: 3%;\n    background-color: white;\n    padding-top: 10px;\n"]))),Br=U.a.div(oa||(oa=Object(V.a)(["\n    border: 1.5px dashed #90A4AE;\n    border-radius: 10px;\n    width: 60%;\n    height: 50%;\n    margin-left: 5%;\n    margin-top: 3%;\n    background-color: rgb(236, 239, 241);\n"]))),Mr=U.a.div(la||(la=Object(V.a)(["\n    border: 1.5px dashed #90A4AE;\n    border-radius: 10px;\n    width: 25%;\n    height: 50%;\n    margin-left: 5%;\n    margin-top: 3%;\n    background-color: rgb(236, 239, 241);\n"]))),Gr=function(e){var t=e.id,n=e.onDragStart;return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(_r,{id:t,onDragStart:function(e){return n(e)},children:[Object(J.jsx)(Br,{}),Object(J.jsx)(Mr,{})]})})},Lr=U.a.div(da||(da=Object(V.a)(["\n    display: flex;\n    border: 1px solid #90A4AE;\n    border-radius: 10px;\n    width: 90%;\n    height: 100px;\n    margin-left: 5%;\n    margin-top: 3%;\n    background-color: white;\n    padding-top: 10px;\n"]))),Rr=U.a.div(ua||(ua=Object(V.a)(["\n    border: 1.5px dashed #90A4AE;\n    border-radius: 10px;\n    width: 25%;\n    height: 50%;\n    margin-left: 5%;\n    margin-top: 3%;\n    background-color: rgb(236, 239, 241);\n"]))),Pr=U.a.div(ba||(ba=Object(V.a)(["\n    border: 1.5px dashed #90A4AE;\n    border-radius: 10px;\n    width: 60%;\n    height: 50%;\n    margin-left: 5%;\n    margin-top: 3%;\n    background-color: rgb(236, 239, 241);\n"]))),zr=function(e){var t=e.id,n=e.onDragStart;return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(Lr,{id:t,onDragStart:function(e){return n(e)},children:[Object(J.jsx)(Rr,{}),Object(J.jsx)(Pr,{})]})})},Vr=function(){var e=function(e){e.dataTransfer.setData("id",e.target.id),e.dataTransfer.setData("type","rows")};return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)("div",{style:{float:"left",width:"30%",height:"800px",background:"#ECEFF1",marginTop:"10px"},children:[Object(J.jsx)(Er,{id:"singleLayout",onDragStart:e}),Object(J.jsx)(Nr,{id:"doubleLayout",onDragStart:e}),Object(J.jsx)(Fr,{id:"tripleLayout",onDragStart:e}),Object(J.jsx)(Gr,{id:"doubleLeftLongLayout",onDragStart:e}),Object(J.jsx)(zr,{id:"doubleRightLongLayout",onDragStart:e})]})})},Ur=function(e){var t=e.selectedOption;return Object(J.jsx)(J.Fragment,{children:"elements"===t?Object(J.jsx)(Tr,{}):Object(J.jsx)(Vr,{})})},Hr={elements:{},columns:{"col-1":{id:"col-1",parentId:"single",elementIds:[]}},columnOrder:[{firstColId:"col-1"}]},Kr=n(92),Wr=function(){return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)("span",{children:"Hi there FIRST_NAME"})})},qr=U.a.div(ja||(ja=Object(V.a)(["\n    width: 100%;\n    border: 1px solid black;\n    padding: 10px;\n    background-color: white;\n"]))),Jr=function(e){var t=e.element,n=e.index;return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(Kr.b,{index:n,draggableId:t.id.toString(),children:function(e){return Object(J.jsx)(qr,Object(o.a)(Object(o.a)(Object(o.a)({},e.draggableProps),e.dragHandleProps),{},{ref:e.innerRef,children:t.content}))}})})},Yr=n(201),Zr=n.n(Yr),Qr=n(202),Xr=n.n(Qr),$r=U.a.div(ma||(ma=Object(V.a)(["\n    display: flex;\n    display-direction: column;\n    justify-content: space-between;\n    border: 1px solid #90A4AE;\n    margin-bottom: 5px;\n    margin-top: 5px;\n    text-align: center;\n    position: relative;\n"]))),ec=U.a.div(pa||(pa=Object(V.a)(["\n    flex-grow: 1;\n    min-height: 100px;\n"]))),tc=U.a.div(Oa||(Oa=Object(V.a)(["\n    color: #90A4AE;\n    font-size: 1.2em;\n    position: absolute;\n    top: 43%;\n    left: 48%;\n"]))),nc=U.a.div(ha||(ha=Object(V.a)(["\n    width: 25px;\n    height: 25px;\n    position: absolute;\n    left: 100%;\n"]))),ac=U.a.div(xa||(xa=Object(V.a)(["\n"]))),rc=U.a.div(ga||(ga=Object(V.a)(["\n\n"]))),cc=function(e){var t=e.id,n=e.column,a=e.elements,r=e.index;return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(Kr.b,{draggableId:t,index:r,children:function(e){return Object(J.jsxs)($r,Object(o.a)(Object(o.a)({},e.draggableProps),{},{ref:e.innerRef,children:[Object(J.jsxs)(nc,{children:[Object(J.jsx)(ac,Object(o.a)(Object(o.a)({},e.dragHandleProps),{},{children:Object(J.jsx)(Zr.a,{})})),Object(J.jsx)(Xr.a,{})]}),Object(J.jsxs)(rc,{id:t,children:[n.elementIds.length?"":Object(J.jsx)(tc,{children:"Drop Here"}),Object(J.jsx)(Kr.c,{droppableId:t,type:"column-drag",children:function(e){return Object(J.jsxs)(ec,Object(o.a)(Object(o.a)({},e.droppableProps),{},{ref:e.innerRef,children:[n.elementIds.map((function(e,t){var n=a[e];return Object(J.jsx)(Jr,{index:t,element:n},n.id)})),e.placeholder]}))}})]})]}))}})})},ic=n(44),sc=U.a.div(fa||(fa=Object(V.a)(["\n    display: flex;\n    width: 100%;\n    justify-content: space-between;\n    position: relative;\n"]))),oc=U.a.div(ya||(ya=Object(V.a)(["\n    display: flex;\n    display-direction: column;\n    justify-content: space-between;\n    border: 1px solid #90A4AE;\n    width: ",";\n    margin-bottom: 5px;\n    text-align: center;\n    position: relative;    \n"])),(function(e){return e.width})),lc=U.a.div(Ca||(Ca=Object(V.a)(["\n    flex-grow: 1;\n    min-height: 100px;\n"]))),dc=U.a.div(va||(va=Object(V.a)(["\n    color: #90A4AE;\n    font-size: 1.2em;\n    position: absolute;\n    top: 43%;\n    left: 40%;\n"]))),uc=U.a.div(Ta||(Ta=Object(V.a)(["\n    width: 25px;\n    height: 25px;\n    position: absolute;\n    left: 100%;\n"]))),bc=U.a.div(Sa||(Sa=Object(V.a)(["\n"]))),jc=function(e){var t=e.firstColumn,n=e.secondColumn,a=e.elements,r=e.index,c=function(e){var r="long"===t.lengthType||"long"===n.lengthType,c="49.7%",i="66.7%",s="33%";return"long"===e.lengthType?Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(oc,{id:e.id,width:i,children:[e.elementIds.length?"":Object(J.jsx)(dc,{children:"Drop Here"}),Object(J.jsx)(Kr.c,{droppableId:e.id,type:"column-drag",children:function(t){return Object(J.jsxs)(lc,Object(o.a)(Object(o.a)({},t.droppableProps),{},{ref:t.innerRef,children:[e.elementIds.map((function(e,t){var n=a[e];return Object(J.jsx)(Jr,{index:t,element:n},n.id)})),t.placeholder]}))}})]})}):Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(oc,{id:e.id,width:r?s:c,children:[e.elementIds.length?"":Object(J.jsx)(dc,{children:"Drop Here"}),Object(J.jsx)(Kr.c,{droppableId:e.id,type:"column-drag",children:function(t){return Object(J.jsxs)(lc,Object(o.a)(Object(o.a)({},t.droppableProps),{},{ref:t.innerRef,children:[e.elementIds.map((function(e,t){var n=a[e];return Object(J.jsx)(Jr,{index:t,element:n},n.id)})),t.placeholder]}))}})]})})};return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(Kr.b,{draggableId:"".concat(t.id),index:r,children:function(e){return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(sc,Object(o.a)(Object(o.a)({},e.draggableProps),{},{ref:e.innerRef,children:[c(t),c(n),Object(J.jsxs)(uc,{children:[Object(J.jsx)(bc,Object(o.a)(Object(o.a)({},e.dragHandleProps),{},{children:Object(J.jsx)(Zr.a,{})})),Object(J.jsx)(Xr.a,{})]})]}))})}})})},mc=U.a.div(Ia||(Ia=Object(V.a)(["\n    display: flex;\n    width: 100%;\n    justify-content: space-between;\n    position: relative;\n"]))),pc=U.a.div(Na||(Na=Object(V.a)(["\n    display: flex;\n    display-direction: column;\n    justify-content: space-between;\n    border: 1px solid #90A4AE;\n    width: 33.0%;\n    margin-bottom: 5px;\n    text-align: center;\n    position: relative;    \n"]))),Oc=U.a.div(ka||(ka=Object(V.a)(["\n    flex-grow: 1;\n    min-height: 100px;\n"]))),hc=U.a.div(wa||(wa=Object(V.a)(["\n    color: #90A4AE;\n    font-size: 1.2em;\n    position: absolute;\n    top: 43%;\n    left: 33%;\n"]))),xc=U.a.div(Ea||(Ea=Object(V.a)(["\n    width: 25px;\n    height: 25px;\n    position: absolute;\n    left: 100%;\n"]))),gc=U.a.div(Aa||(Aa=Object(V.a)(["\n"]))),fc=function(e){var t=e.firstColumn,n=e.secondColumn,a=e.thirdColumn,r=e.elements,c=e.index,i=function(e){return e.elementIds.map((function(e,t){var n=r[e];return Object(J.jsx)(Jr,{index:t,element:n},n.id)}))};return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(Kr.b,{draggableId:"".concat(t.id),index:c,children:function(e){return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(mc,Object(o.a)(Object(o.a)({},e.draggableProps),{},{ref:e.innerRef,children:[Object(J.jsxs)(pc,{id:t.id,children:[t.elementIds.length?"":Object(J.jsx)(hc,{children:"Drop Here"}),Object(J.jsx)(Kr.c,{droppableId:t.id,type:"column-drag",children:function(e){return Object(J.jsxs)(Oc,Object(o.a)(Object(o.a)({},e.droppableProps),{},{ref:e.innerRef,children:[i(t),e.placeholder]}))}})]}),Object(J.jsxs)(pc,{id:n.id,children:[n.elementIds.length?"":Object(J.jsx)(hc,{children:"Drop Here"}),Object(J.jsx)(Kr.c,{droppableId:n.id,type:"column-drag",children:function(e){return Object(J.jsxs)(Oc,Object(o.a)(Object(o.a)({},e.droppableProps),{},{ref:e.innerRef,children:[i(n),e.placeholder]}))}})]}),Object(J.jsxs)(pc,{id:a.id,children:[a.elementIds.length?"":Object(J.jsx)(hc,{children:"Drop Here"}),Object(J.jsx)(Kr.c,{droppableId:a.id,type:"column-drag",children:function(e){return Object(J.jsxs)(Oc,Object(o.a)(Object(o.a)({},e.droppableProps),{},{ref:e.innerRef,children:[i(a),e.placeholder]}))}})]}),Object(J.jsxs)(xc,{children:[Object(J.jsx)(gc,Object(o.a)(Object(o.a)({},e.dragHandleProps),{},{children:Object(J.jsx)(Zr.a,{})})),Object(J.jsx)(Xr.a,{})]})]}))})}})})},yc=function(){function e(){Object($.a)(this,e)}return Object(ee.a)(e,[{key:"getSingleLayoutState",value:function(e){var t="col-".concat(ic.Guid.newGuid()),n=ic.Guid.newGuid().StringGuid;return Object(o.a)(Object(o.a)({},e),{},{columns:Object(o.a)(Object(o.a)({},e.columns),{},Object(Ya.a)({},t,{id:t,parentId:n,elementIds:[]})),columnOrder:[].concat(Object(Be.a)(e.columnOrder),[{firstColId:t}])})}},{key:"getDoubleLayoutState",value:function(e){var t,n="col-".concat(ic.Guid.newGuid()),a="col-".concat(ic.Guid.newGuid()),r=ic.Guid.newGuid().StringGuid;return Object(o.a)(Object(o.a)({},e),{},{columns:Object(o.a)(Object(o.a)({},e.columns),{},(t={},Object(Ya.a)(t,n,{id:n,parentId:r,elementIds:[]}),Object(Ya.a)(t,a,{id:a,parentId:r,elementIds:[]}),t)),columnOrder:[].concat(Object(Be.a)(e.columnOrder),[{firstColId:n,secondColId:a}])})}},{key:"getTrippleLayoutState",value:function(e){var t,n="col-".concat(ic.Guid.newGuid()),a="col-".concat(ic.Guid.newGuid()),r="col-".concat(ic.Guid.newGuid()),c=ic.Guid.newGuid().StringGuid;return Object(o.a)(Object(o.a)({},e),{},{columns:Object(o.a)(Object(o.a)({},e.columns),{},(t={},Object(Ya.a)(t,n,{id:n,parentId:c,elementIds:[]}),Object(Ya.a)(t,a,{id:a,parentId:c,elementIds:[]}),Object(Ya.a)(t,r,{id:r,parentId:c,elementIds:[]}),t)),columnOrder:[].concat(Object(Be.a)(e.columnOrder),[{firstColId:n,secondColId:a,thirdColId:r}])})}},{key:"getDoubleLeftLongLayout",value:function(e){var t,n="col-".concat(ic.Guid.newGuid()),a="col-".concat(ic.Guid.newGuid()),r=ic.Guid.newGuid().StringGuid;return Object(o.a)(Object(o.a)({},e),{},{columns:Object(o.a)(Object(o.a)({},e.columns),{},(t={},Object(Ya.a)(t,n,{id:n,parentId:r,lengthType:"long",elementIds:[]}),Object(Ya.a)(t,a,{id:a,parentId:r,elementIds:[]}),t)),columnOrder:[].concat(Object(Be.a)(e.columnOrder),[{firstColId:n,secondColId:a}])})}},{key:"getDoubleRightLongLayout",value:function(e){var t,n="col-".concat(ic.Guid.newGuid()),a="col-".concat(ic.Guid.newGuid()),r=ic.Guid.newGuid().StringGuid;return Object(o.a)(Object(o.a)({},e),{},{columns:Object(o.a)(Object(o.a)({},e.columns),{},(t={},Object(Ya.a)(t,n,{id:n,parentId:r,elementIds:[]}),Object(Ya.a)(t,a,{id:a,parentId:r,lengthType:"long",elementIds:[]}),t)),columnOrder:[].concat(Object(Be.a)(e.columnOrder),[{firstColId:n,secondColId:a}])})}},{key:"drop",value:function(e,t){var n=e.dataTransfer.getData("id");return"singleLayout"===n?this.getSingleLayoutState(t):"doubleLayout"===n?this.getDoubleLayoutState(t):"tripleLayout"===n?this.getTrippleLayoutState(t):"doubleLeftLongLayout"===n?this.getDoubleLeftLongLayout(t):"doubleRightLongLayout"===n?this.getDoubleRightLongLayout(t):void 0}}]),e}(),Cc=yc,vc=function(){function e(){Object($.a)(this,e)}return Object(ee.a)(e,[{key:"drop",value:function(e){}}]),e}(),Tc=vc,Sc=function(){function e(){Object($.a)(this,e),this._droppingRowsManager=new Cc,this._droppingElementsManager=new Tc}return Object(ee.a)(e,[{key:"drop",value:function(e){e.preventDefault();var t=e.dataTransfer.getData("type");"rows"===t&&this._droppingRowsManager.drop(e),"element"===t&&this._droppingElementsManager.drop(e)}}]),e}(),Ic=Sc,Nc=U.a.div(Da||(Da=Object(V.a)(["\n    width: 100%; \n    margin-top: 2%;\n    text-align: initial;\n"]))),kc=U.a.div(Fa||(Fa=Object(V.a)(["\n    text-align: center;\n    width: 30%;\n"]))),wc=U.a.div(_a||(_a=Object(V.a)(["\n    width: 65%;\n    margin: 0 auto;\n    background-color: white;\n"]))),Ec=U.a.div(Ba||(Ba=Object(V.a)(["\n    float: right;\n    width: 65%;\n    height: 800px;\n    margin-right: 4%;\n    margin-top: 0.6%;\n    background-color: #ECEFF1;\n"]))),Ac=U.a.div(Ma||(Ma=Object(V.a)(["\n    \n"]))),Dc=function(){var e=r.a.useState("elements"),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(Hr),l=Object(s.a)(i,2),d=l[0],u=l[1],b=function(e){e.preventDefault();var t=e.dataTransfer.getData("type");"rows"===t&&function(e){var t=e.dataTransfer.getData("id");if("singleLayout"===t){var n="col-".concat(ic.Guid.newGuid()),a=ic.Guid.newGuid().StringGuid;u(Object(o.a)(Object(o.a)({},d),{},{columns:Object(o.a)(Object(o.a)({},d.columns),{},Object(Ya.a)({},n,{id:n,parentId:a,elementIds:[]})),columnOrder:[].concat(Object(Be.a)(d.columnOrder),[{firstColId:n}])}))}if("doubleLayout"===t){var r,c="col-".concat(ic.Guid.newGuid()),i="col-".concat(ic.Guid.newGuid()),s=ic.Guid.newGuid().StringGuid;u(Object(o.a)(Object(o.a)({},d),{},{columns:Object(o.a)(Object(o.a)({},d.columns),{},(r={},Object(Ya.a)(r,c,{id:c,parentId:s,elementIds:[]}),Object(Ya.a)(r,i,{id:i,parentId:s,elementIds:[]}),r)),columnOrder:[].concat(Object(Be.a)(d.columnOrder),[{firstColId:c,secondColId:i}])}))}if("tripleLayout"===t){var l,b="col-".concat(ic.Guid.newGuid()),j="col-".concat(ic.Guid.newGuid()),m="col-".concat(ic.Guid.newGuid()),p=ic.Guid.newGuid().StringGuid;u(Object(o.a)(Object(o.a)({},d),{},{columns:Object(o.a)(Object(o.a)({},d.columns),{},(l={},Object(Ya.a)(l,b,{id:b,parentId:p,elementIds:[]}),Object(Ya.a)(l,j,{id:j,parentId:p,elementIds:[]}),Object(Ya.a)(l,m,{id:m,parentId:p,elementIds:[]}),l)),columnOrder:[].concat(Object(Be.a)(d.columnOrder),[{firstColId:b,secondColId:j,thirdColId:m}])}))}if("doubleLeftLongLayout"===t){var O,h="col-".concat(ic.Guid.newGuid()),x="col-".concat(ic.Guid.newGuid()),g=ic.Guid.newGuid().StringGuid;u(Object(o.a)(Object(o.a)({},d),{},{columns:Object(o.a)(Object(o.a)({},d.columns),{},(O={},Object(Ya.a)(O,h,{id:h,parentId:g,lengthType:"long",elementIds:[]}),Object(Ya.a)(O,x,{id:x,parentId:g,elementIds:[]}),O)),columnOrder:[].concat(Object(Be.a)(d.columnOrder),[{firstColId:h,secondColId:x}])}))}if("doubleRightLongLayout"===t){var f,y="col-".concat(ic.Guid.newGuid()),C="col-".concat(ic.Guid.newGuid()),v=ic.Guid.newGuid().StringGuid;u(Object(o.a)(Object(o.a)({},d),{},{columns:Object(o.a)(Object(o.a)({},d.columns),{},(f={},Object(Ya.a)(f,y,{id:y,parentId:v,elementIds:[]}),Object(Ya.a)(f,C,{id:C,parentId:v,lengthType:"long",elementIds:[]}),f)),columnOrder:[].concat(Object(Be.a)(d.columnOrder),[{firstColId:y,secondColId:C}])}))}}(e),"element"===t&&function(e){var t=e.target.attributes["data-rbd-draggable-id"];if(t||(t=e.target.attributes["data-rbd-droppable-id"]),t){var n=t.value,a=d.columns[n];if(a){var r=ic.Guid.newGuid().StringGuid,c=Object(J.jsx)(Wr,{id:r});u(Object(o.a)(Object(o.a)({},d),{},{elements:Object(o.a)(Object(o.a)({},d.elements),{},Object(Ya.a)({},r,{id:r,content:c})),columns:Object(o.a)(Object(o.a)({},d.columns),{},Object(Ya.a)({},n,Object(o.a)(Object(o.a)({},a),{},{elementIds:[].concat(Object(Be.a)(a.elementIds),[r])})))}))}}}(e)},j=function(){var e,t,n=d.columnOrder.map((function(e){var t=[];return e.firstColId&&t.push(d.columns[e.firstColId]),e.secondColId&&t.push(d.columns[e.secondColId]),e.thirdColId&&t.push(d.columns[e.thirdColId]),t})),a=(e=n.flat(),t="parentId",e.reduce((function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e}),{}));return Object.keys(a).map((function(e,t){var n=a[e];return 1===n.length?function(e,t){return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(cc,{id:e.id,index:t,column:d.columns[e.id],elements:d.elements},ic.Guid.newGuid().StringGuid)})}(n[0],t):2===n.length?function(e,t,n){return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(jc,{index:n,firstColumn:d.columns[e.id],secondColumn:d.columns[t.id],elements:d.elements},ic.Guid.newGuid().StringGuid)})}(n[0],n[1],t):3===n.length?function(e,t,n,a){return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(fc,{index:a,firstColumn:d.columns[e.id],secondColumn:d.columns[t.id],thirdColumn:d.columns[n.id],elements:d.elements},ic.Guid.newGuid().StringGuid)})}(n[0],n[1],n[2],t):void 0}))};return Object(a.useEffect)((function(){new Ic}),[]),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(Nc,{children:[Object(J.jsx)(kc,{children:Object(J.jsxs)(er.a,{color:"primary",value:n,onChange:function(e,t){!function(e){c(e.target.value)}(e)},children:[Object(J.jsx)(tr.a,{style:{textTransform:"none"},value:"elements",children:"Elements"}),Object(J.jsx)(tr.a,{style:{textTransform:"none"},value:"layout",children:"Layout"})]})}),Object(J.jsx)(Ur,{selectedOption:n}),Object(J.jsx)(Ec,{children:Object(J.jsxs)(wc,{onDrop:function(e){return b(e)},onDragOver:function(e){e.preventDefault()},children:[Object(J.jsx)(Kr.a,{onDragStart:function(){},onDragEnd:function(e){var t,n=e.destination,a=e.source,r=e.draggableId,c=e.type;if(n&&(n.droppableId!==a.droppableId||n.index!==a.index))if("row"!==c){var i=d.columns[a.droppableId],s=d.columns[n.droppableId];if(i!==s){var l=Array.from(i.elementIds);l.splice(a.index,1);var b=Object(o.a)(Object(o.a)({},i),{},{elementIds:l}),j=Array.from(s.elementIds);j.splice(n.index,0,r);var m=Object(o.a)(Object(o.a)({},s),{},{elementIds:j}),p=Object(o.a)(Object(o.a)({},d),{},{columns:Object(o.a)(Object(o.a)({},d.columns),{},(t={},Object(Ya.a)(t,b.id,b),Object(Ya.a)(t,m.id,m),t))});u(Object(o.a)({},p))}else{var O=Array.from(i.elementIds);O.splice(a.index,1),O.splice(n.index,0,r);var h=Object(o.a)(Object(o.a)({},i),{},{elementIds:O}),x=Object(o.a)(Object(o.a)({},d),{},{columns:Object(o.a)(Object(o.a)({},d.columns),{},Object(Ya.a)({},h.id,h))});u(Object(o.a)({},x))}}else{var g=Array.from(d.columnOrder),f=g[a.index];g.splice(a.index,1),g.splice(n.index,0,f);var y=Object(o.a)(Object(o.a)({},d),{},{columnOrder:g});u(y)}},children:Object(J.jsx)(Kr.c,{droppableId:"all-columns",direction:"vertical",type:"row",children:function(e){return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(Ac,Object(o.a)(Object(o.a)({},e.droppableProps),{},{ref:e.innerRef,children:[j(),e.placeholder]}))})}})}),Object(J.jsx)($a,{})]})})]}),Object(J.jsx)("div",{style:{clear:"both"}})]})},Fc=function(e){var t=kn(),n=Object(a.useRef)(null),r=Dn.a.parse(e.location.search),c=m(),i=Object(a.useState)(""),o=Object(s.a)(i,2),l=o[0],u=o[1],b=Object(a.useState)(!1),j=Object(s.a)(b,2),p=j[0],O=j[1],h=Object(a.useState)({open:!1,message:""}),x=Object(s.a)(h,2),g=x[0],f=x[1],y=Object(a.useState)({name:!1}),C=Object(s.a)(y,2),v=C[0],T=C[1],S=Object(d.b)().getAccessTokenSilently,I=function(){var e=Object(L.a)(G.a.mark((function e(t){var n,a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,S({audience:c.audience,scope:"read:current_user"});case 3:n=e.sent,a={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({id:r.id,name:l,html:t.html,json:JSON.stringify(t.json)})},fetch("".concat("https://api.mailgen.org","/emailTemplates/upsertTemplate"),a).then((function(e){return e.json()})).then((function(e){O(!1),e.isSuccess||f({open:!0,message:e.message})})).catch((function(e){return console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)("div",{className:t.main,children:[Object(J.jsx)(Ua.a,{container:!0,children:Object(J.jsx)(Ua.a,{item:!0,xs:12,children:Object(J.jsx)(Ha.a,{in:g.open,children:Object(J.jsxs)(Ka.a,{severity:"error",action:Object(J.jsx)(In.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){f({open:!1,message:""})},children:Object(J.jsx)(Ja.a,{fontSize:"inherit"})}),sx:{mb:2},children:[Object(J.jsx)(Wa.a,{children:"Validation Error"}),g.message]})})})}),Object(J.jsxs)(Ua.a,{container:!0,children:[Object(J.jsx)(Ua.a,{item:!0,xs:10,children:Object(J.jsx)("div",{children:Object(J.jsx)(Nn.a,{error:v.name,helperText:v.name?"Name field is required!":"",label:"Name",value:l,onChange:function(e){return u(e.target.value)},className:t.name})})}),Object(J.jsx)(Ua.a,{item:!0,xs:2,children:Object(J.jsx)(Va,{loading:p,onClick:function(){l&&""!==l?(T({name:!1}),n.current.editor.exportHtml((function(e){var t=e.design,n=e.html;I({html:n,json:t})}))):T({name:!0})},className:t.save,startIcon:p?"":Object(J.jsx)(En.a,{}),text:"Save"})})]}),Object(J.jsx)(Ua.a,{container:!0,children:Object(J.jsx)(Ua.a,{item:!0,xs:12,children:Object(J.jsx)(Dc,{})})})]})})},_c=n(292),Bc=(n(683),n(135)),Mc=n(203),Gc=n.n(Mc),Lc=n(436),Rc=n.n(Lc),Pc=n(230),zc=n.n(Pc),Vc=n(796),Uc=n(785),Hc=[{title:"{{FIRST_NAME}}",description:"First Name of the subscriber which was captured during subscribe. If the subscriber is missing this information, it will be skipped. Additionally you can use the following format {{FIRST_NAME or 'great person'}}"},{title:"{{LAST_NAME}}",description:"Last Name of the subscriber which was captured during subscribe. If the subscriber is missing this information, it will be skipped. Additionally you can use the following format {{LAST_NAME or 'great person'}}"}],Kc=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(pe.a,{onClick:function(){r(!0)},shape:"round",children:"View Merge Tags"}),Object(J.jsxs)(Yt.a,{title:"Merge Tags",visible:n,onOk:function(){r(!1)},onCancel:function(){r(!1)},children:[Object(J.jsx)("span",{children:"The merge tags use the famous Handlebars template format for replacement logic."}),Object(J.jsx)(Uc.b,{itemLayout:"horizontal",dataSource:Hc,renderItem:function(e){return Object(J.jsx)(Uc.b.Item,{children:Object(J.jsx)(Uc.b.Item.Meta,{title:Object(J.jsx)("span",{children:e.title}),description:e.description})})}})]})]})},Wc=function(e){var t=Object(B.f)(),n=Object(d.b)().getAccessTokenSilently,r=Dn.a.parse(e.location.search),c=Object(a.useState)(Bc.EditorState.createEmpty()),i=Object(s.a)(c,2),l=i[0],u=i[1],b=Object(a.useState)(""),j=Object(s.a)(b,2),m=j[0],p=j[1],O=Object(a.useState)({page:!1,saveButton:!1}),h=Object(s.a)(O,2),x=h[0],g=h[1],f=Object(a.useState)({name:!0,editor:!0}),y=Object(s.a)(f,2),C=y[0],v=y[1],T=function(){var e={name:!0,editor:!0};return m.length||(e.name=!1),"<p></p>\n"==Gc()(Object(Bc.convertToRaw)(l.getCurrentContent()))&&(e.editor=!1),v(e),!Object.values(e).some((function(e){return!1===e}))},S=function(){var e=Object(L.a)(G.a.mark((function e(){var a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T()){e.next=3;break}return e.abrupt("return");case 3:return g(Object(o.a)(Object(o.a)({},x),{},{saveButton:!0})),a=Gc()(Object(Bc.convertToRaw)(l.getCurrentContent())),'\n            <!DOCTYPE html>\n            <html>\n                <body>\n                    <div>\n                        {HTML_CONTENT_HERE}\n                    </div>\n                    <div style="text-align: center">\n                        <span>No longer interested?</span><a id="unsubscribe" href="{{BASE_ADDRESS}}/subscribers/unsubscribe?email={{SUBSCRIBER_EMAIL}}&subscriberId={{SUBSCRIBER_ID}}&returnUrl=https://mailgen.org/unsubscribe/">Unsubscribe</a>\n                    </div>\n                    <div id="platform-advertisement" style="text-align: center;margin-top:25px;">\n                        <a style="display: inline-block;vertical-align: middle;line-height: normal;text-decoration: none;color: inherit;" href="https://mailgen.org" target="_blank">\n                            <img style="display: inline-block;vertical-align: middle;line-height: normal;" alt="mailgen" height="80" width="150" src={process.env.PUBLIC_URL + \'/PoweredByMailgen.png\'} />\n                        </a>\n                    </div>\n                </body>\n            </html>',e.next=8,st(n,{url:"".concat("https://api.mailgen.org","/emailTemplates/upsertTemplate"),method:"post",request:{id:r.id,name:m,html:a,baseHtml:'\n            <!DOCTYPE html>\n            <html>\n                <body>\n                    <div>\n                        {HTML_CONTENT_HERE}\n                    </div>\n                    <div style="text-align: center">\n                        <span>No longer interested?</span><a id="unsubscribe" href="{{BASE_ADDRESS}}/subscribers/unsubscribe?email={{SUBSCRIBER_EMAIL}}&subscriberId={{SUBSCRIBER_ID}}&returnUrl=https://mailgen.org/unsubscribe/">Unsubscribe</a>\n                    </div>\n                    <div id="platform-advertisement" style="text-align: center;margin-top:25px;">\n                        <a style="display: inline-block;vertical-align: middle;line-height: normal;text-decoration: none;color: inherit;" href="https://mailgen.org" target="_blank">\n                            <img style="display: inline-block;vertical-align: middle;line-height: normal;" alt="mailgen" height="80" width="150" src={process.env.PUBLIC_URL + \'/PoweredByMailgen.png\'} />\n                        </a>\n                    </div>\n                </body>\n            </html>',type:0},successCallback:function(e){t.push("/templates"),g(Object(o.a)(Object(o.a)({},x),{},{saveButton:!1}))},errorCallback:function(e){g(Object(o.a)(Object(o.a)({},x),{},{saveButton:!1}))}});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(Object(L.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.id){e.next=4;break}return g(Object(o.a)(Object(o.a)({},x),{},{page:!0})),e.next=4,st(n,{url:"".concat("https://api.mailgen.org","/emailTemplates/getById?id=").concat(r.id),method:"get",successCallback:function(e){p(e.template.name);var t=Rc()(e.template.html),n=zc.a.createFromBlockArray(t.contentBlocks),a=Bc.EditorState.createWithContent(n);g(Object(o.a)(Object(o.a)({},x),{},{page:!1})),u(a)},errorCallback:function(e){}});case 4:case"end":return e.stop()}}),e)}))),[]),Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)($t.a,{spinning:x.page,children:[Object(J.jsxs)(A.a,{gutter:[16,16],children:[Object(J.jsx)(D.a,{span:5,children:Object(J.jsx)(en.a,{status:C.name?"":"error",prefix:C.name?"":Object(J.jsx)(Vc.a,{}),onChange:function(e){p(e.target.value)},value:m,placeholder:"Name"})}),Object(J.jsx)(D.a,{span:2,children:Object(J.jsx)(Kc,{})}),Object(J.jsx)(D.a,{span:17,children:Object(J.jsx)(pe.a,{loading:x.saveButton,onClick:Object(L.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),style:{float:"right"},children:"Save"})})]}),Object(J.jsx)(A.a,{style:{marginTop:10},children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(_c.Editor,{editorState:l,editorStyle:{backgroundColor:"white",border:C.editor?"1px solid #F1F1F1":"1px solid red",height:580,padding:5},onEditorStateChange:function(e){u(e)}})})})]})})},qc=n(797),Jc=n(798),Yc=function(e){var t=e.params,n=Object.freeze({Start:1,Stop:2,Ended:4}),r=Object(a.useState)(t.row.state),c=Object(s.a)(r,2),i=c[0],o=c[1],l=Object(d.b)().getAccessTokenSilently;Object(a.useEffect)((function(){t.row.state===n.Start?o(n.Stop):o(n.Start)}),[t.row.state]);var u=function(){var e=Object(L.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(l,{url:"".concat("https://api.mailgen.org","/campaigns/startCampaign?campaignId=").concat(t.row.id),method:"post",request:{},successCallback:function(){o(n.Stop)},errorCallback:function(){}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var a=Object(L.a)(G.a.mark((function a(){return G.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,st(l,{url:"".concat("https://api.mailgen.org","/campaigns/stopCampaign?campaignId=").concat(t.row.id),method:"post",request:{},successCallback:function(t){1==e.params.row.type?o(n.Ended):o(n.Start)},errorCallback:function(){}});case 2:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(J.jsx)(J.Fragment,{children:function(){switch(i){case n.Stop:return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(Je.a,{title:"Stop Campaign",children:Object(J.jsx)(pe.a,{type:"circle",onClick:b,icon:Object(J.jsx)(qc.a,{})})})});case n.Start:return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(Je.a,{title:"Start Campaign",children:Object(J.jsx)(pe.a,{type:"circle",onClick:u,icon:Object(J.jsx)(Jc.a,{})})})});case n.Ended:return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)("p",{children:"Ended"})});default:console.error("Option not supported")}}()})},Zc=function(e){return[{dataIndex:"name",title:"Name",key:"name"},{dataIndex:"type",title:"Type",key:"type",render:function(e){return 0==e?Object(J.jsx)(P.a,{color:"#87d068",children:"Newsletter"}):1==e?Object(J.jsx)(P.a,{color:"#2db7f5",children:"Scheduled One-Time"}):void 0}},{dataIndex:"isActive",title:"Active",key:"isActive",render:function(e,t){return 4==t.state?Object(J.jsx)("span",{children:"Ended"}):Object(J.jsx)(Yc,{params:{row:t}})}},{dataIndex:"createdDate",title:"Created Date",key:"createdDate",render:function(e){return me({value:e})}},{dataIndex:"endDate",title:"End Date",key:"endDate",render:function(e){return e?new Date({value:e}.value).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}):"-"}},{dataIndex:"modify",title:"Modify",key:"modify",render:function(t,n){var a=n.id;return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(pe.a,{type:"circle",onClick:function(t){return e(a)},icon:Object(J.jsx)(Oe.a,{})})})}}]},Qc=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),i=Object(s.a)(c,2),o=i[0],l=i[1],u=Object(B.f)(),b=Object(d.b)().getAccessTokenSilently,j=function(){var e=Object(L.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(b,{url:"".concat("https://api.mailgen.org","/campaigns/getCampaigns"),method:"get",successCallback:function(e){l(e.campaigns),r(!1)},errorCallback:function(){}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){r(!0),j()}),[]);return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(A.a,{gutter:[16,24],style:{marginTop:20},children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)("div",{children:Object(J.jsxs)(H,{children:[Object(J.jsx)(A.a,{gutter:[16,16],children:Object(J.jsx)(D.a,{span:2,children:Object(J.jsx)(K,{children:"Campaigns"})})}),Object(J.jsx)(A.a,{gutter:[16,16],children:Object(J.jsx)(D.a,{span:2,children:Object(J.jsx)(pe.a,{icon:Object(J.jsx)(ye.a,{}),onClick:function(){u.push("/campaign")},children:"Create Campaign"})})}),Object(J.jsx)(A.a,{children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(z.a,{loading:n,columns:Zc((function(e){return function(e){u.push({pathname:"/campaign",search:"?mode=update&campaignId=".concat(e),state:null})}(e)})),dataSource:o})})})]})})})})})},Xc=[{id:1,name:"Scheduled One-Time"}],$c=[{id:0,name:"Day"},{id:1,name:"Week"},{id:2,name:"Month"}],ei=[{id:0,name:"Never"},{id:1,name:"Date"}],ti=n(754),ni=n(755),ai=n(753),ri=n(242),ci=n(756),ii=n(758),si=n(80),oi=n(819),li=n(757),di=n(311),ui=Object(F.a)((function(e){return{root:{minWidth:275},content:Object(o.a)({width:"100%",padding:e.spacing(0,0,0,29)},e.mixins.toolbar),formControl:{display:"flex",padding:e.spacing(0,0,0,0)},selectEmpty:{marginTop:e.spacing(2)},main:{flexGrow:1,padding:e.spacing(3)},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),bi=n(749),ji=n(816),mi=n(766),pi=n(817),Oi=function(e){var t=ui(),n=e.id,r=e.value,c=e.handler,i=e.labelName,o=e.options,l=e.disabled,d=Object(a.useState)(o),u=Object(s.a)(d,2),b=u[0],j=u[1];Object(a.useEffect)((function(){j(o)}),[e.options]);return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(bi.a,{className:t.formControl,children:[Object(J.jsx)(ji.a,{id:n,children:i}),Object(J.jsx)(mi.a,{id:n,disabled:l,value:r,onChange:function(e){c(e.target.value)},displayEmpty:!0,className:t.selectEmpty,inputProps:{"aria-label":"Without label"},error:""===r,helperText:"The field is required",children:b.map((function(e){return Object(J.jsx)(pi.a,{value:e.id,children:e.name})}))})]})})},hi=n(818),xi=n(218),gi=n.n(xi),fi=n(772),yi=n(752),Ci=function(e){var t=e.checked,n=e.handler,a=e.name,r=e.labelName,c=Object(Fn.a)({root:{color:"#009be5","&$checked":{color:"#009be5"}},checked:{}})((function(e){return Object(J.jsx)(fi.a,Object(o.a)({color:"default"},e))}));return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(yi.a,{control:Object(J.jsx)(c,{checked:t,onChange:n,name:a,color:"primary"}),label:r})})},vi=function(e){var t=e.selectedRepeatType,n=e.value,a=e.handler;return 2===t?Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(ai.a,{container:!0,justifyContent:"center",alignItems:"center",spacing:1,children:[Object(J.jsx)(ai.a,{item:!0,children:Object(J.jsx)(Ci,{checked:n,handler:a,name:"onlyLastDayOfMonth",labelName:"Only last day of the month"})}),Object(J.jsx)(ai.a,{item:!0,children:Object(J.jsx)(hi.a,{title:"Selecting this option will allow you to run the campaign at last the day of each month. If a day is not present for the current month, an email will not be sent.",children:Object(J.jsx)(gi.a,{fontSize:"small"})})})]})}):Object(J.jsx)("span",{})},Ti=function(e){var t=e.selectedRepeatType,n=e.value,a=e.handler;return 1===t?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(ai.a,{item:!0,children:Object(J.jsx)(Oi,{id:"repeat-select",value:n,labelName:"",handler:a,options:[{id:1,name:"Monday"},{id:2,name:"Tuesday"},{id:3,name:"Wednesday"},{id:4,name:"Thirsday"},{id:5,name:"Friday"},{id:6,name:"Saturday"},{id:7,name:"Sunday"}]})}),Object(J.jsx)(ai.a,{item:!0,style:{marginTop:"6%"},children:Object(J.jsx)(ri.a,{children:"at"})})]}):Object(J.jsx)("span",{})},Si=function(e){var t=e.selectedRepeatType,n=e.value,a=e.handler,r=e.disabled;return 2===t?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(ai.a,{item:!0,children:Object(J.jsx)(Oi,{id:"days-select",value:n,labelName:"Day",handler:a,disabled:r,options:function(){return Object(Be.a)(Array(31).keys()).map((function(e){return{id:e+1,name:e+1}}))}})}),Object(J.jsx)(ai.a,{item:!0,style:{marginTop:"6%"},children:Object(J.jsx)(ri.a,{children:"at"})})]}):Object(J.jsx)("span",{})},Ii=function(e){var t=ui(),n=m(),c=Object(B.f)(),i=Object(d.b)().getAccessTokenSilently,l=e.type,u=e.model,b=e.disableScheduling,j=Object(a.useState)(""),p=Object(s.a)(j,2),O=p[0],h=p[1],x=Object(a.useState)(""),g=Object(s.a)(x,2),f=g[0],y=g[1],C=Object(a.useState)(""),v=Object(s.a)(C,2),T=v[0],S=v[1],I=Object(a.useState)(""),N=Object(s.a)(I,2),k=N[0],w=N[1],E=Object(a.useState)(""),A=Object(s.a)(E,2),D=A[0],F=A[1],_=Object(a.useState)(""),M=Object(s.a)(_,2),R=M[0],P=M[1],z=Object(a.useState)(0),V=Object(s.a)(z,2),U=V[0],H=V[1],K=Object(a.useState)(0),W=Object(s.a)(K,2),q=W[0],Y=W[1],Z=Object(a.useState)(new Date),Q=Object(s.a)(Z,2),X=Q[0],$=Q[1],ee=Object(a.useState)(new Date),te=Object(s.a)(ee,2),ne=te[0],ae=te[1],re=Object(a.useState)(1),ce=Object(s.a)(re,2),ie=ce[0],se=ce[1],oe=r.a.useState([]),le=Object(s.a)(oe,2),de=le[0],ue=le[1],be=Object(a.useState)({onlyLastDayOfMonth:!1,enableOpenRate:!0,enableClickTracking:!0}),je=Object(s.a)(be,2),me=je[0],pe=je[1],Oe=r.a.useState(new Date),he=Object(s.a)(Oe,2),xe=he[0],ge=he[1],fe=r.a.useState(1),ye=Object(s.a)(fe,2),Ce=ye[0],ve=ye[1],Te=r.a.useState(!1),Se=Object(s.a)(Te,2),Ie=Se[0],Ne=Se[1],ke=Dn.a.parse(e.location.search).campaignId,we=function(e){pe(Object(o.a)(Object(o.a)({},me),{},Object(Ya.a)({},e.target.name,e.target.checked)))};Object(a.useEffect)((function(){!O||O.length<3||""===R||!Nt(k)||!D||D.length<3||!f||f.length<3||de.length<=0?Ne(!0):Ne(!1)}),[O,R,D,de,f,k]),Object(a.useEffect)((function(){var e;ke&&u&&(h((e=u).name),P(e.emailTemplateId),F(e.rssUrl),ue(e.tags),H(e.repeatType),se(e.weekDay),ge(e.repeatTime),ve(e.dayOfMonth),pe({onlyLastDayOfMonth:e.onlyLastDayOfMonth,enableClickTracking:e.enableClickTracking,enableOpenRate:e.enableOpenRate}),$(e.endDate),ae(e.endTime),y(e.subject),w(e.senderEmail),S(e.senderName))}),[u]);var Ee=function(){var e=Object(L.a)(G.a.mark((function e(){var t,a,r;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={campaignId:ke,name:O,subject:f,senderName:T,senderEmail:k,rssUrl:D,type:l,emailTemplateId:R,tags:de,repeatType:U,repeatTime:xe,onlyLastDayOfMonth:me.onlyLastDayOfMonth,dayOfMonth:Ce,weekDay:ie,endType:q,endDate:X,endTime:ne,enableOpenRate:me.enableOpenRate,enableClickTracking:me.enableClickTracking},e.next=3,i({audience:n.audience,scope:"read:current_user"});case 3:a=e.sent,r={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(t)},fetch("".concat("https://api.mailgen.org","/campaigns/upsertCampaign"),r).then((function(e){return e.json()})).then((function(e){c.push("/campaigns")})).catch((function(e){return console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(ti.a,{className:t.content,children:[Object(J.jsxs)(ni.a,{children:[Object(J.jsxs)(ai.a,{container:!0,spacing:5,children:[Object(J.jsx)(ai.a,{item:!0,children:Object(J.jsx)(Nn.a,{error:!O&&O.length<3,value:O,helperText:"Name is required and must be at least 3 characters",onChange:function(e){h(e.target.value)},label:"Name"})}),Object(J.jsx)(ai.a,{item:!0,xs:6,md:3,children:Object(J.jsx)(On,{disabled:b,value:R,handler:P})})]}),Object(J.jsx)(ai.a,{container:!0,spacing:5,children:Object(J.jsx)(ai.a,{item:!0,children:Object(J.jsx)(Nn.a,{value:D,disabled:b,onChange:function(e){F(e.target.value)},label:"RSS Url",error:!D||D.length<3,helperText:"Rss url is required and must be at least 3 characters"})})}),Object(J.jsxs)(ai.a,{container:!0,alignItems:"center",spacing:1,children:[Object(J.jsx)(ai.a,{item:!0,children:Object(J.jsx)(Ci,{checked:me.enableOpenRate,handler:we,name:"enableOpenRate",labelName:"Enable open rates"})}),Object(J.jsx)(ai.a,{item:!0,children:Object(J.jsx)(hi.a,{title:"This option enables you to see the rate of the emails that were opened.",children:Object(J.jsx)(gi.a,{fontSize:"small"})})})]}),Object(J.jsxs)(ai.a,{container:!0,alignItems:"center",spacing:1,children:[Object(J.jsx)(ai.a,{item:!0,children:Object(J.jsx)(Ci,{checked:me.enableClickTracking,handler:we,name:"enableClickTracking",labelName:"Enable click tracking"})}),Object(J.jsx)(ai.a,{item:!0,children:Object(J.jsx)(hi.a,{title:"This option enables you to track the link clicks in your emails.",children:Object(J.jsx)(gi.a,{fontSize:"small"})})})]}),Object(J.jsx)(ai.a,{container:!0,spacing:5,children:Object(J.jsx)(ai.a,{item:!0,children:Object(J.jsxs)(ai.a,{container:!0,justifyContent:"left",spacing:4,children:[Object(J.jsx)(ai.a,{item:!0,children:Object(J.jsx)(Ue,{selectedTags:de,setTags:ue})}),Object(J.jsx)(ai.a,{item:!0,style:{marginTop:"1.5em"},children:Object(J.jsx)(hi.a,{title:"The campaign will run for the emails with the selected tags.",children:Object(J.jsx)(gi.a,{fontSize:"small"})})})]})})}),Object(J.jsx)(ai.a,{container:!0,spacing:10,children:Object(J.jsx)(ai.a,{item:!0,xs:!0,children:Object(J.jsx)(ri.a,{align:"left",children:"Sender Details"})})}),Object(J.jsx)(ai.a,{container:!0,spacing:5,children:Object(J.jsx)(ai.a,{item:!0,xs:!0,children:Object(J.jsx)(ci.a,{})})}),Object(J.jsx)(ai.a,{container:!0,spacing:3,children:Object(J.jsx)(ai.a,{item:!0,children:Object(J.jsx)(Nn.a,{error:!f&&f.length<3,value:f,onChange:function(e){return y(e.target.value)},label:"Subject"})})}),Object(J.jsxs)(ai.a,{container:!0,spacing:3,children:[Object(J.jsx)(ai.a,{item:!0,children:Object(J.jsx)(Nn.a,{value:T,helperText:"Optional. The name that your subscribers will see in their emails",onChange:function(e){return S(e.target.value)},label:"Sender Name"})}),Object(J.jsx)(ai.a,{item:!0,children:Object(J.jsx)(Nn.a,{error:!k&&k.length<3,value:k,helperText:"The email that your subscribers will see in their emails",onChange:function(e){return w(e.target.value)},label:"Sender Email"})})]}),Object(J.jsx)(ai.a,{container:!0,spacing:10,children:Object(J.jsx)(ai.a,{item:!0,xs:!0,children:Object(J.jsx)(ri.a,{align:"left",children:"Scheduling"})})}),Object(J.jsxs)("div",{style:b,children:[Object(J.jsx)(ai.a,{container:!0,spacing:5,children:Object(J.jsx)(ai.a,{item:!0,xs:!0,children:Object(J.jsx)(ci.a,{})})}),Object(J.jsx)(ai.a,{container:!0,spacing:5,children:Object(J.jsx)(ai.a,{item:!0,xs:12,children:Object(J.jsxs)(ai.a,{container:!0,spacing:3,alignItems:"center",children:[Object(J.jsx)(ai.a,{item:!0,style:{marginTop:"1%"},children:Object(J.jsx)(ri.a,{align:"inherit",children:"Repeat every:"})}),Object(J.jsx)(ai.a,{item:!0,children:Object(J.jsx)(Oi,{value:U,labelName:"",handler:H,options:$c})})]})})}),Object(J.jsx)(ai.a,{container:!0,spacing:5,children:Object(J.jsxs)(ai.a,{item:!0,children:[Object(J.jsx)(vi,{value:me.onlyLastDayOfMonth,handler:we,selectedRepeatType:U}),Object(J.jsxs)(ai.a,{container:!0,alignItems:"center",spacing:5,children:[Object(J.jsx)(Ti,{value:ie,handler:se,selectedRepeatType:U}),Object(J.jsx)(Si,{value:Ce,handler:ve,disabled:me.onlyLastDayOfMonth,selectedRepeatType:U}),Object(J.jsx)(ai.a,{item:!0,children:Object(J.jsx)(si.a,{utils:di.a,children:Object(J.jsx)(oi.a,{margin:"normal",id:"time-picker",label:"Time",value:xe,onChange:function(e){ge(e)},KeyboardButtonProps:{"aria-label":"change time"}})})})]})]})}),Object(J.jsxs)(ai.a,{container:!0,alignItems:"center",spacing:3,children:[Object(J.jsx)(ai.a,{item:!0,style:{marginTop:"1%"},children:Object(J.jsx)(ri.a,{children:"End On:"})}),Object(J.jsx)(ai.a,{item:!0,children:Object(J.jsx)(Oi,{id:"repeat-select",value:q,labelName:"",handler:Y,options:ei})})]}),Object(J.jsxs)(ai.a,{container:!0,spacing:5,children:[Object(J.jsx)(ai.a,{item:!0,children:Object(J.jsx)(si.a,{utils:di.a,children:Object(J.jsx)(li.a,{disabled:0===q,margin:"normal",id:"time-picker",label:"Date",value:X,onChange:$,KeyboardButtonProps:{"aria-label":"change time"}})})}),Object(J.jsx)(ai.a,{item:!0,xs:2,children:Object(J.jsx)(si.a,{utils:di.a,children:Object(J.jsx)(oi.a,{disabled:0===q,margin:"normal",id:"date-picker",label:"Time",value:ne,onChange:ae,KeyboardButtonProps:{"aria-label":"change time"}})})})]})]}),Object(J.jsx)(ai.a,{container:!0,spacing:5,children:Object(J.jsx)(ai.a,{item:!0,xs:!0,children:Object(J.jsx)(ci.a,{})})})]}),Object(J.jsx)(ii.a,{children:Object(J.jsx)(_n.a,{disabled:Ie,variant:"contained",color:"primary",size:"small",onClick:Ee,children:"Save"})})]})})},Ni=n(443),ki=n(220),wi={name:"",emailTemplateId:null,enableOpenRate:!0,enableClickTracking:!0,tags:[]},Ei=Object(Me.b)({name:"scheduledCampaignGeneral",initialState:function(){return wi},reducers:{updateGeneralDetails:function(e,t){return Object.assign(e,t.payload)},resetGeneralDetails:function(e,t){return Object.assign(e,wi)}}}),Ai=Ei.actions,Di=Ai.updateGeneralDetails,Fi=Ai.resetGeneralDetails,_i=Ei.reducer,Bi=function(e){var t=Object(_e.b)(),n=Object(_e.c)((function(e){return e.scheduledCampaignGeneral})),a=Object(_e.c)((function(e){return e.scheduledCampaignValidations})),r=e.isUpdateMode;return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(ue.a,{style:{border:" 1px solid #e6ebf1"},children:[Object(J.jsx)(on.a,{orientation:"left",plain:!0,children:"General Details"}),Object(J.jsxs)(A.a,{gutter:[16,16],children:[Object(J.jsx)(D.a,{span:14,children:Object(J.jsx)(en.a,{status:a.name?"":"error",prefix:a.name?"":Object(J.jsx)(Vc.a,{}),onChange:function(e){t(Di(Object(o.a)(Object(o.a)({},n),{},{name:e.target.value})))},value:n.name,placeholder:"Name"})}),Object(J.jsx)(D.a,{span:10,children:Object(J.jsx)(On,{disabled:!1,valid:a.emailTemplateId,value:n.emailTemplateId,handler:function(e){t(Di(Object(o.a)(Object(o.a)({},n),{},{emailTemplateId:e})))}})})]}),Object(J.jsx)(A.a,{style:{marginTop:10},children:Object(J.jsx)(D.a,{children:Object(J.jsx)(Je.a,{title:"This option enables you to see the rate of the emails that were opened.",children:Object(J.jsx)(ki.a,{disabled:r,defaultChecked:n.enableOpenRate,onChange:function(e){t(Di(Object(o.a)(Object(o.a)({},n),{},{enableOpenRate:e.target.checked})))},children:"Enable open rates"})})})}),Object(J.jsx)(A.a,{style:{marginTop:10},children:Object(J.jsx)(D.a,{children:Object(J.jsx)(Je.a,{title:"This option enables you to track the link clicks in your emails.",children:Object(J.jsx)(ki.a,{disabled:r,defaultChecked:n.enableClickTracking,onChange:function(e){t(Di(Object(o.a)(Object(o.a)({},n),{},{enableClickTracking:e.target.checked})))},children:"Enable click tracking"})})})}),Object(J.jsx)(A.a,{gutter:[16,16],style:{marginTop:10},children:Object(J.jsx)(D.a,{span:10,children:Object(J.jsx)(Ue,{status:a.tags?"":"error"})})})]})})},Mi=n(759),Gi={date:"",time:""},Li=Object(Me.b)({name:"scheduledCampaignScheduling",initialState:function(){return Gi},reducers:{updateSchedulingDetails:function(e,t){return Object.assign(e,t.payload)},resetSchedulingDetails:function(e,t){return Object.assign(e,Gi)}}}),Ri=Li.actions,Pi=Ri.updateSchedulingDetails,zi=Ri.resetSchedulingDetails,Vi=Li.reducer,Ui=function(e){var t=Object(_e.b)(),n=Object(_e.c)((function(e){return e.scheduledCampaignScheduling})),a=Object(_e.c)((function(e){return e.scheduledCampaignValidations})),r=e.isUpdateMode;return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(ue.a,{style:{border:" 1px solid #e6ebf1"},children:[Object(J.jsx)(on.a,{orientation:"left",plain:!0,children:"Scheduling Details"}),Object(J.jsxs)(A.a,{gutter:[16,16],children:[Object(J.jsx)(D.a,{span:14,children:Object(J.jsx)(ae.a,{disabled:r,status:a.date?"":"error",prefix:a.date?"":Object(J.jsx)(Vc.a,{}),value:n.date.length?de()(n.date):"",onChange:function(e,a){return t(Pi(Object(o.a)(Object(o.a)({},n),{},{date:a})))},style:{width:"100%"},disabledDate:function(e){return e<de()().startOf("day")}})}),Object(J.jsx)(D.a,{span:10,children:Object(J.jsx)(Mi.a,{disabled:r,status:a.time?"":"error",prefix:a.time?"":Object(J.jsx)(Vc.a,{}),value:n.time.length?de()(n.time):"",onChange:function(e,a){t(Pi(Object(o.a)(Object(o.a)({},n),{},{time:e.toString()})))},style:{width:"100%"}})})]})]})})},Hi={subject:"",senderName:"",senderEmail:""},Ki=Object(Me.b)({name:"scheduledCampaignSenderDetails",initialState:function(){return Hi},reducers:{updateSenderDetails:function(e,t){e.subject=t.payload.subject,e.senderName=t.payload.senderName,e.senderEmail=t.payload.senderEmail},resetSenderDetails:function(e,t){Object.assign(e,Hi)}}}),Wi=Ki.actions,qi=Wi.updateSenderDetails,Ji=Wi.resetSenderDetails,Yi=Ki.reducer,Zi=function(e){var t=Object(_e.b)(),n=Object(_e.c)((function(e){return e.scheduledCampaignSenderDetails})),a=Object(_e.c)((function(e){return e.scheduledCampaignValidations})),r=e.isUpdateMode;return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(ue.a,{style:{border:" 1px solid #e6ebf1"},children:[Object(J.jsx)(on.a,{orientation:"left",plain:!0,children:"Sender Details"}),Object(J.jsx)(A.a,{gutter:[16,16],children:Object(J.jsx)(D.a,{span:10,children:Object(J.jsx)(en.a,{disabled:r,status:a.subject?"":"error",prefix:a.subject?"":Object(J.jsx)(Vc.a,{}),onChange:function(e){return a=e.target.value,void t(qi(Object(o.a)(Object(o.a)({},n),{},{subject:a})));var a},value:n.subject,placeholder:"Subject"})})}),Object(J.jsxs)(A.a,{gutter:[16,16],style:{marginTop:10},children:[Object(J.jsx)(D.a,{span:10,children:Object(J.jsx)(en.a,{disabled:r,onChange:function(e){return a=e.target.value,void t(qi(Object(o.a)(Object(o.a)({},n),{},{senderName:a})));var a},value:n.senderName,placeholder:"Sender Name"})}),Object(J.jsx)(D.a,{span:14,children:Object(J.jsx)(Cn,{disabled:r})})]})]})})},Qi=function(e){return{name:e.name,emailTemplateId:e.emailTemplateId,enableOpenRate:e.enableOpenRate,enableClickTracking:e.enableClickTracking}},Xi=function(e){return{subject:e.subject,senderName:e.senderName,senderEmail:e.senderEmail}},$i=function(e){var t=de()(e.repeatTime);return{date:t.toString(),time:t.toString()}},es=function(e,t){var n=t||3;return e.length&&e.length>n},ts=function(e){return e&&e.length&&e.length>0},ns={name:!0,emailTemplateId:!0,enableOpenRate:!0,enableClickTracking:!0,date:!0,time:!0,subject:!0,senderName:!0,tags:!0},as=Object(Me.b)({name:"scheduledCampaignValidations",initialState:function(){return ns},reducers:{updateScheduledCampaignValidation:function(e,t){return Object.assign(e,t.payload)},resetScheduledCampaignValidation:function(e,t){return Object.assign(e,ns)}}}),rs=as.actions,cs=rs.updateScheduledCampaignValidation,is=(rs.resetScheduledCampaignValidation,as.reducer),ss=function(e){var t=Object(B.f)(),n=Object(d.b)().getAccessTokenSilently,r=Object(_e.b)(),c=Object(_e.c)((function(e){return e.scheduledCampaignGeneral})),i=Object(_e.c)((function(e){return e.scheduledCampaignScheduling})),l=Object(_e.c)((function(e){return e.scheduledCampaignSenderDetails})),u=Object(_e.c)((function(e){return e.tags})),b=Object(_e.c)((function(e){return e.sendingEmails})),j=e.loading,m=e.type,p=e.model,O=Dn.a.parse(e.location.search).campaignId,h=Object(a.useState)(!1),x=Object(s.a)(h,2),g=x[0],f=x[1],y=Object(a.useState)(!1),C=Object(s.a)(y,2),v=C[0],T=C[1],S=function(){var e={name:!0,emailTemplateId:!0,enableOpenRate:!0,enableClickTracking:!0,date:!0,time:!0,subject:!0,tags:!0};return es(c.name)||(e.name=!1),ts(c.emailTemplateId)||(e.emailTemplateId=!1),ts(i.date)||(e.date=!1),ts(i.time)||(e.time=!1),es(l.subject)||(e.subject=!1),u.length<=0&&(e.tags=!1),r(cs(e)),!Object.values(e).some((function(e){return 0==e}))},I=function(e,t){Ni.a[e]({message:t.title,description:t.text})},N=function(){var e=Object(L.a)(G.a.mark((function e(){var a,r,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(!0),S()){e.next=5;break}return f(!1),e.abrupt("return");case 5:return a=de()(i.date),r=de()(i.time),s=Object(o.a)(Object(o.a)(Object(o.a)(Object(o.a)({},c),i),l),{},{tags:Object(Be.a)(u),replyToSendingEmailId:b,repeatType:3,type:m,campaignId:O,repeatTime:new Date(a.year(),a.month(),a.date(),r.hours(),r.minutes(),0)}),e.next=10,st(n,{url:"".concat("https://api.mailgen.org","/campaigns/upsertCampaign"),method:"POST",request:s,successCallback:function(e){f(!1),t.push("/campaigns"),e.isSuccess?I("success",{title:"Campaign created successfully",text:"You campaign is created and started automatically!"}):I("error",{title:"Error white processing your action",text:"Something went wrong. Please try again later!"})},errorCallback:function(){I("error",{title:"Error white processing your action",text:"Something went wrong. Please try again later!"})}});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){O&&p?(r(Di(Qi(p))),r(qi(Xi(p))),r(Pi($i(p))),r(Pe(p.tags)),r(gn(p.replyToSendingEmail?p.replyToSendingEmail.id:null)),T(!0)):(r(Fi()),r(zi()),r(Ji()),r(ze()),r(fn()))}),[p]),Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)($t.a,{spinning:j,children:[Object(J.jsxs)(A.a,{justify:"start",gutter:[16,16],children:[Object(J.jsx)(D.a,{span:12,children:Object(J.jsx)(Bi,{isUpdateMode:v})}),Object(J.jsx)(D.a,{span:12,children:Object(J.jsx)(Ui,{isUpdateMode:v})})]}),Object(J.jsx)(A.a,{style:{marginTop:15},justify:"start",gutter:[16,16],children:Object(J.jsx)(D.a,{span:12,children:Object(J.jsx)(Zi,{isUpdateMode:v})})}),Object(J.jsx)(A.a,{style:{marginTop:10},children:Object(J.jsx)(D.a,{children:Object(J.jsx)(pe.a,{type:"primary",loading:g,onClick:Object(L.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:case"end":return e.stop()}}),e)}))),children:"Save"})})})]})})},os=function(e){var t=Object(d.b)().getAccessTokenSilently,n=Object(a.useState)(1),c=Object(s.a)(n,2),i=c[0],l=c[1],u=r.a.useState(!1),b=Object(s.a)(u,2),j=b[0],m=b[1],p=r.a.useState(null),O=Object(s.a)(p,2),h=O[0],x=O[1],g=Object(a.useState)(null),f=Object(s.a)(g,2),y=f[0],C=f[1],v=Dn.a.parse(e.location.search).campaignId,T=function(){var e=Object(L.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(t,{url:"".concat("https://api.mailgen.org","/campaigns/getCampaign?campaignId=").concat(v),method:"get",successCallback:function(e){C(e.campaign),l(e.campaign.type),m(!1)},errorCallback:function(e){}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){v&&(m(!0),x({pointerEvents:"none",opacity:.4}),T())}),[e]);return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(A.a,{children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(ne.a,{style:{float:"left"},onChange:l,defaultValue:i,disabled:v,children:Xc.map((function(e){return Object(J.jsx)(re.a,{value:e.id,children:e.name})}))})})}),Object(J.jsx)(A.a,{children:Object(J.jsx)(D.a,{style:{marginTop:10},span:24,children:function(){switch(i){case 0:return Object(J.jsx)(Ii,Object(o.a)({model:y,disableScheduling:h,type:i},e));case 1:return Object(J.jsx)(ss,Object(o.a)({model:y,type:i,loading:j},e));default:throw new Error("Campign type not supported")}}()})})]})},ls=function(e){return[{dataIndex:"name",title:"Name",key:"name"},{dataIndex:"type",title:"Type",key:"type",render:function(e){return"Welcome Email"}},{dataIndex:"createdDate",title:"Created Date",key:"date",render:function(e){return me({value:e})}},{dataIndex:"modify",title:"Modify",key:"modify",render:function(t,n){var a=n.id;return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(pe.a,{type:"circle",onClick:function(t){return e(a)},icon:Object(J.jsx)(Oe.a,{})})})}}]},ds={name:"",emailTemplateId:null},us=Object(Me.b)({name:"autoEmailGeneralDetails",initialState:function(){return ds},reducers:{updateAutoEmailGeneralDetails:function(e,t){return Object.assign(e,t.payload)},resetAutoEmailGeneralDetails:function(e,t){return Object.assign(e,ds)}}}),bs=us.actions,js=bs.updateAutoEmailGeneralDetails,ms=bs.resetAutoEmailGeneralDetails,ps=us.reducer,Os={subject:"",senderName:"",senderEmail:""},hs=Object(Me.b)({name:"autoEmailSenderDetails",initialState:function(){return Os},reducers:{updateAutoEmailSenderDetails:function(e,t){return Object.assign(e,t.payload)},resetAutoEmailSenderDetails:function(e,t){return Object.assign(e,Os)}}}),xs=hs.actions,gs=xs.updateAutoEmailSenderDetails,fs=xs.resetAutoEmailSenderDetails,ys=hs.reducer,Cs={name:!0,emailTemplateId:!0,subject:!0,senderName:!0,senderEmail:!0,tags:!0},vs=Object(Me.b)({name:"autoEmailValidations",initialState:function(){return Cs},reducers:{updateAutoEmailValidation:function(e,t){return Object.assign(e,t.payload)},resetAutoEmailValidations:function(e,t){return Object.assign(e,Cs)}}}),Ts=vs.actions,Ss=Ts.updateAutoEmailValidation,Is=Ts.resetAutoEmailValidations,Ns=vs.reducer,ks=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),i=Object(s.a)(c,2),o=i[0],l=i[1],u=Object(B.f)(),b=Object(d.b)().getAccessTokenSilently,j=Object(_e.b)(),m=function(){var e=Object(L.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(b,{url:"".concat("https://api.mailgen.org","/automation/getAutoEmailsReport"),method:"get",successCallback:function(e){l(e.autoEmails),r(!1)}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){r(!0),m()}),[]);return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(A.a,{gutter:[16,24],style:{marginTop:20},children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)("div",{children:Object(J.jsxs)(H,{children:[Object(J.jsx)(A.a,{gutter:[16,16],children:Object(J.jsx)(D.a,{span:8,children:Object(J.jsx)(K,{children:"Automated Emails"})})}),Object(J.jsx)(A.a,{gutter:[16,16],children:Object(J.jsx)(D.a,{span:2,children:Object(J.jsx)(pe.a,{icon:Object(J.jsx)(ye.a,{}),onClick:function(){j(ms()),j(fs()),j(ze()),j(Is()),u.push("/auto-email")},children:"Create"})})}),Object(J.jsx)(A.a,{children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(z.a,{loading:n,columns:ls((function(e){return function(e){u.push({pathname:"/auto-email",search:"?mode=update&autoEmailId=".concat(e),state:null})}(e)})),dataSource:o})})})]})})})})})},ws=n(213),Es=function(e){var t=e.autoEmailId,n=Object(_e.b)(),r=Object(_e.c)((function(e){return e.autoEmailGeneralDetails})),c=Object(_e.c)((function(e){return e.autoEmailValidations})),i=Object(d.b)().getAccessTokenSilently,l=Object(a.useState)([]),u=Object(s.a)(l,2),b=u[0],j=u[1];return Object(a.useEffect)((function(){var e=null===t?"":t;st(i,{url:"".concat("https://api.mailgen.org","/tags/welcomeCampaign/used?autoEmailId=").concat(e),method:"get",successCallback:function(e){j(e)},errorCallback:function(){}})}),[t]),Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(ue.a,{style:{border:" 1px solid #e6ebf1"},children:[Object(J.jsx)(on.a,{orientation:"left",plain:!0,children:"General Details"}),Object(J.jsxs)(A.a,{gutter:[16,16],children:[Object(J.jsx)(D.a,{span:6,children:Object(J.jsx)(en.a,{status:c.name?"":"error",prefix:c.name?"":Object(J.jsx)(Vc.a,{}),onChange:function(e){n(js(Object(o.a)(Object(o.a)({},r),{},{name:e.target.value})))},value:r.name,placeholder:"Name"})}),Object(J.jsx)(D.a,{span:6,children:Object(J.jsx)(On,{disabled:!1,valid:c.emailTemplateId,value:r.emailTemplateId,handler:function(e){n(js(Object(o.a)(Object(o.a)({},r),{},{emailTemplateId:e})))}})})]}),Object(J.jsxs)(A.a,{gutter:[16,16],style:{marginTop:10},children:[Object(J.jsx)(D.a,{span:6,children:Object(J.jsx)(Ue,{disabledTags:b,status:c.tags?"":"error"})}),Object(J.jsx)(D.a,{children:Object(J.jsx)(Je.a,{title:"Some tags may be disabled. This means they were already used in another Automatic Email Template.",children:Object(J.jsx)(ws.a,{})})})]})]})})},As=function(e){var t=Object(_e.b)(),n=Object(_e.c)((function(e){return e.autoEmailSenderDetails})),a=Object(_e.c)((function(e){return e.autoEmailValidations})),r=e.isUpdateMode;return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(ue.a,{style:{border:" 1px solid #e6ebf1"},children:[Object(J.jsx)(on.a,{orientation:"left",plain:!0,children:"Sender Details"}),Object(J.jsx)(A.a,{gutter:[16,16],children:Object(J.jsx)(D.a,{span:6,children:Object(J.jsx)(en.a,{disabled:r,status:a.subject?"":"error",prefix:a.subject?"":Object(J.jsx)(Vc.a,{}),onChange:function(e){return a=e.target.value,void t(gs(Object(o.a)(Object(o.a)({},n),{},{subject:a})));var a},value:n.subject,placeholder:"Subject"})})}),Object(J.jsxs)(A.a,{gutter:[16,16],style:{marginTop:10},children:[Object(J.jsx)(D.a,{span:6,children:Object(J.jsx)(en.a,{disabled:r,onChange:function(e){return a=e.target.value,void t(gs(Object(o.a)(Object(o.a)({},n),{},{senderName:a})));var a},value:n.senderName,placeholder:"Sender Name"})}),Object(J.jsx)(D.a,{span:6,children:Object(J.jsx)(Cn,{disabled:r})})]})]})})},Ds=function(e){var t=e.type,n=e.model,r=Object(d.b)().getAccessTokenSilently,c=Object(B.f)(),i=Object(_e.b)(),s=Object(_e.c)((function(e){return e.autoEmailGeneralDetails})),l=Object(_e.c)((function(e){return e.autoEmailSenderDetails})),u=Object(_e.c)((function(e){return e.tags})),b=Object(_e.c)((function(e){return e.sendingEmails})),j=function(){var e={name:!0,emailTemplateId:!0,subject:!0,senderName:!0,tags:!0};return ts(s.name)||(e.name=!1),ts(s.emailTemplateId)||(e.emailTemplateId=!1),ts(l.subject)||(e.subject=!1),u.length<=0&&(e.tags=!1),i(Ss(e)),!Object.values(e).some((function(e){return 0==e}))},m=function(){var e=Object(L.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,st(r,{url:"".concat("https://api.mailgen.org","/automation/upsertAutoWelcomeEmail"),method:"post",request:Object(o.a)(Object(o.a)(Object(o.a)({},s),l),{},{id:n?n.id:null,type:t,tags:u,replyToSendingEmailId:b}),successCallback:function(){c.push("/auto-emails")}});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){n&&(i(js({name:n.name,emailTemplateId:n.emailTemplateId})),i(gs({subject:n.subject,senderName:n.senderName,senderEmail:n.senderEmail})),i(Pe(n.tags)),i(gn(null!==n.sendingEmail?n.sendingEmail.id:null)))}),[n]),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(A.a,{children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(Es,{autoEmailId:n?n.id:null})})}),Object(J.jsx)(A.a,{style:{marginTop:10},children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(As,{})})}),Object(J.jsx)(A.a,{style:{marginTop:10},children:Object(J.jsx)(D.a,{children:Object(J.jsx)(pe.a,{type:"primary",loading:!1,onClick:Object(L.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:case"end":return e.stop()}}),e)}))),children:"Save"})})})]})},Fs=Object.freeze([{id:0,name:"Welcome Email"}]),_s=function(e){var t=Object(d.b)().getAccessTokenSilently,n=Dn.a.parse(e.location.search).autoEmailId,r=Object(a.useState)(0),c=Object(s.a)(r,2),i=c[0],o=c[1],l=Object(a.useState)(null),u=Object(s.a)(l,2),b=u[0],j=u[1],m=Object(a.useState)(!1),p=Object(s.a)(m,2),O=p[0],h=p[1],x=function(){var e=Object(L.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(t,{url:"".concat("https://api.mailgen.org","/automation/getAutoWelcomeEmail?id=").concat(n),method:"get",successCallback:function(e){j(e.autoEmail),o(e.autoEmail.type),h(!1)},errorCallback:function(){}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){n&&(h(!0),x())}),[e]);return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(A.a,{children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(ne.a,{style:{float:"left"},onChange:o,defaultValue:i,disabled:n,children:Fs.map((function(e){return Object(J.jsx)(ne.a.Option,{value:e.id,children:e.name})}))})})}),Object(J.jsx)(A.a,{children:Object(J.jsx)(D.a,{style:{marginTop:10},span:24,children:Object(J.jsx)(Ds,{loading:O,model:b,type:i})})})]})},Bs=function(){var e=Object(d.b)().getAccessTokenSilently,t=Object(a.useState)(!1),n=Object(s.a)(t,2),r=n[0],c=n[1],i=function(){var t=Object(L.a)(G.a.mark((function t(){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),t.next=3,st(e,{url:"".concat("https://api.mailgen.org","/customer/changePassword"),method:"post",request:{},successCallback:function(e){},errorCallback:function(e){c(!1)}});case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(ue.a,{children:[Object(J.jsx)(A.a,{gutter:[16,16],children:Object(J.jsx)(D.a,{span:8,children:Object(J.jsx)(Ae.a,{message:"By clicking the Send Password Reset Email button you will receive an email from which you can change your password.",type:"info"})})}),Object(J.jsx)(A.a,{style:{marginTop:10},children:Object(J.jsx)(D.a,{span:8,children:Object(J.jsx)(pe.a,{type:"primary",disabled:r,onClick:function(){return i()},children:"Send Password Reset Email"})})})]})})},Ms=n(166),Gs=n(438),Ls=function(e){var t=Object(Ms.useStripe)(),n=Object(Ms.useElements)(),a=e.submitAction,r=e.submitDisabled;return Object(J.jsxs)("form",{id:"paymentForm",onSubmit:function(e){a(e,n,t)},children:[Object(J.jsx)(Ms.CardElement,{}),Object(J.jsx)(pe.a,{shape:"round",htmlType:"submit",type:"primary",disabled:!t||r,children:"Update"})]})},Rs=function(e){var t=Object(Gs.a)("".concat("pk_live_51K61dVJsVDRGQ9iPwqOkbec6r8CvMt5DvoPxr3hEKL7yGjUQuatP7MninsAFxgFXnwGHPgGViDvXvyxfZyG3tfig00DWHQ7oq0"));return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(Ms.Elements,{stripe:t,children:Object(J.jsx)(Ls,Object(o.a)({},e))})})},Ps={taxData:[{Id:1,Country:"Australia",TaxCode:"au_abn",TaxIdText:"Australian Business Number (AU ABN)",Example:"12345678912"},{Id:2,Country:"Australia",TaxCode:"au_arn",TaxIdText:"Australian Taxation Office Reference Number",Example:"123456789123"},{Id:3,Country:"Austria",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"ATU12345678"},{Id:4,Country:"Belgium",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"BE0123456789"},{Id:5,Country:"Brazil",TaxCode:"br_cnpj",TaxIdText:"Brazilian CNPJ number",Example:"01.234.456/5432-10"},{Id:6,Country:"Brazil",TaxCode:"br_cpf",TaxIdText:"Brazilian CPF number",Example:"123.456.789-87"},{Id:7,Country:"Bulgaria",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"BG0123456789"},{Id:8,Country:"Canada",TaxCode:"ca_bn",TaxIdText:"Canadian BN",Example:"123456789"},{Id:9,Country:"Canada",TaxCode:"ca_gst_hst",TaxIdText:"Canadian GST/HST number",Example:"123456789RT0002"},{Id:10,Country:"Canada",TaxCode:"ca_pst_bc",TaxIdText:"Canadian PST number",Example:"PST-1234-5678"},{Id:11,Country:"Canada",TaxCode:"ca_pst_mb",TaxIdText:"Canadian PST number",Example:"123456-7"},{Id:12,Country:"Canada",TaxCode:"ca_pst_sk",TaxIdText:"Canadian PST number",Example:"1234567"},{Id:13,Country:"Canada",TaxCode:"ca_qst",TaxIdText:"Canadian QST number",Example:"1234567890TQ1234"},{Id:14,Country:"Chile",TaxCode:"cl_tin",TaxIdText:"Chilean TIN",Example:"12.345.678-K"},{Id:15,Country:"Croatia",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"HR12345678912"},{Id:16,Country:"Cyprus",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"CY12345678Z"},{Id:17,Country:"Czech Republic",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"CZ1234567890"},{Id:18,Country:"Denmark",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"DK12345678"},{Id:19,Country:"Estonia",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"EE123456789"},{Id:20,Country:"Finland",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"FI12345678"},{Id:21,Country:"France",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"FRAB123456789"},{Id:22,Country:"Georgia",TaxCode:"ge_vat",TaxIdText:"Georgian VAT",Example:"123456789"},{Id:23,Country:"Germany",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"DE123456789"},{Id:24,Country:"Greece",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"EL123456789"},{Id:25,Country:"Hong Kong",TaxCode:"hk_br",TaxIdText:"Hong Kong BR number",Example:"12345678"},{Id:26,Country:"Hungary",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"HU12345678912"},{Id:27,Country:"India",TaxCode:"in_gst",TaxIdText:"Indian GST number",Example:"12ABCDE3456FGZH"},{Id:28,Country:"Indonesia",TaxCode:"id_npwp",TaxIdText:"Indonesian NPWP number",Example:"12.345.678.9-012.345"},{Id:29,Country:"Ireland",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"IE1234567AB"},{Id:30,Country:"Israel",TaxCode:"il_vat",TaxIdText:"Israel VAT",Example:"000012345"},{Id:31,Country:"Italy",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"IT12345678912"},{Id:32,Country:"Japan",TaxCode:"jp_cn",TaxIdText:"Japanese Corporate Number",Example:"1234567891234"},{Id:33,Country:"Japan",TaxCode:"jp_rn",TaxIdText:"Japanese Registered Foreign Businesses' Registration Number",Example:"12345"},{Id:34,Country:"Korea, Republic of",TaxCode:"kr_brn",TaxIdText:"Korean BRN",Example:"123-45-67890"},{Id:35,Country:"Latvia",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"LV12345678912"},{Id:36,Country:"Liechtenstein",TaxCode:"li_uid",TaxIdText:"Liechtensteinian UID number",Example:"CHE123456789"},{Id:37,Country:"Lithuania",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"LT123456789123"},{Id:38,Country:"Luxembourg",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"LU12345678"},{Id:39,Country:"Malaysia",TaxCode:"my_frp",TaxIdText:"Malaysian FRP number",Example:"12345678"},{Id:40,Country:"Malaysia",TaxCode:"my_itn",TaxIdText:"Malaysian ITN\tC",Example:"1234567890"},{Id:41,Country:"Malaysia",TaxCode:"my_sst",TaxIdText:"Malaysian SST number",Example:"A12-3456-78912345"},{Id:42,Country:"Malta",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"MT12345678"},{Id:43,Country:"Mexico",TaxCode:"mx_rfc",TaxIdText:"Mexican RFC number",Example:"ABC010203AB9"},{Id:44,Country:"Netherlands",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"NL123456789B12"},{Id:45,Country:"New Zealand",TaxCode:"nz_gst",TaxIdText:"New Zealand GST number",Example:"123456789"},{Id:46,Country:"Norway",TaxCode:"no_vat",TaxIdText:"Norwegian VAT number",Example:"123456789MVA"},{Id:47,Country:"Poland",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"PL1234567890"},{Id:48,Country:"Portugal",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"PT123456789"},{Id:49,Country:"Romania",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"RO1234567891"},{Id:50,Country:"Russian Federation",TaxCode:"ru_inn",TaxIdText:"Russian INN",Example:"1234567891"},{Id:51,Country:"Russian Federation",TaxCode:"ru_kpp",TaxIdText:"Russian KPP",Example:"123456789"},{Id:53,Country:"Saudi Arabia",TaxCode:"sa_vat",TaxIdText:"Saudi Arabia VAT",Example:"123456789012345"},{Id:53,Country:"Singapore",TaxCode:"sg_gst",TaxIdText:"Singaporean GST",Example:"M12345678X"},{Id:54,Country:"Singapore",TaxCode:"sg_uen",TaxIdText:"Singaporean UEN",Example:"123456789F"},{Id:55,Country:"Slovakia",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"SK1234567891"},{Id:56,Country:"Slovenia",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"SI12345678"},{Id:57,Country:"South Africa",TaxCode:"za_vat",TaxIdText:"South African VAT number",Example:"4123456789"},{Id:58,Country:"Spain",TaxCode:"es_cif",TaxIdText:"Spanish CIF number",Example:"A12345678"},{Id:59,Country:"Spain",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"ESA1234567Z"},{Id:60,Country:"Sweden",TaxCode:"eu_vat",TaxIdText:"European VAT number",Example:"SE123456789123"},{Id:61,Country:"Switzerland",TaxCode:"ch_vat",TaxIdText:"Switzerland VAT number",Example:"CHE-123.456.789 MWST"},{Id:62,Country:"Taiwan",TaxCode:"tw_vat",TaxIdText:"Taiwanese VAT",Example:"12345678"},{Id:63,Country:"Thailand",TaxCode:"th_vat",TaxIdText:"Thai VAT",Example:"1234567891234"},{Id:64,Country:"Ukraine",TaxCode:"ua_vat",TaxIdText:"Ukrainian VAT",Example:"123456789"},{Id:65,Country:"United Arab Emirates",TaxCode:"ae_trn",TaxIdText:"United Arab Emirates TRN",Example:"123456789012345"},{Id:66,Country:"United Kingdom",TaxCode:"gb_vat",TaxIdText:"United Kingdom VAT number",Example:"GB123456789"},{Id:67,Country:"United Kingdom",TaxCode:"eu_vat",TaxIdText:"Northern Ireland VAT number",Example:"XI123456789"},{Id:68,Country:"United States",TaxCode:"us_ein",TaxIdText:"United States EIN",Example:"12-3456789"}],taxOptions:[{Index:1,Text:"Australia",Id:"au_abn"},{Index:2,Text:"Australia",Id:"au_arn"},{Index:3,Text:"Austria",Id:"eu_vat"},{Index:4,Text:"Belgium",Id:"eu_vat"},{Index:5,Text:"Brazil",Id:"br_cnpj"},{Index:6,Text:"Brazil",Id:"br_cpf"},{Index:7,Text:"Bulgaria",Id:"eu_vat"},{Index:8,Text:"Canada",Id:"ca_bn"},{Index:9,Text:"Canada",Id:"ca_gst_hst"},{Index:10,Text:"Canada",Id:"ca_pst_bc"},{Index:11,Text:"Canada",Id:"ca_pst_mb"},{Index:12,Text:"Canada",Id:"ca_pst_sk"},{Index:13,Text:"Canada",Id:"ca_qst"},{Index:14,Text:"Chile",Id:"cl_tin"},{Index:15,Text:"Croatia",Id:"eu_vat"},{Index:16,Text:"Cyprus",Id:"eu_vat"},{Index:17,Text:"Czech Republic",Id:"eu_vat"},{Index:18,Text:"Denmark",Id:"eu_vat"},{Index:19,Text:"Estonia",Id:"eu_vat"},{Index:20,Text:"Finland",Id:"eu_vat"},{Index:21,Text:"France",Id:"eu_vat"},{Index:22,Text:"Georgia",Id:"ge_vat"},{Index:23,Text:"Germany",Id:"eu_vat"},{Index:24,Text:"Greece",Id:"eu_vat"},{Index:25,Text:"Hong Kong",Id:"hk_br"},{Index:26,Text:"Hungary",Id:"eu_vat"},{Index:27,Text:"India",Id:"in_gst"},{Index:28,Text:"Indonesia",Id:"id_npwp"},{Index:29,Text:"Ireland",Id:"eu_vat"},{Index:30,Text:"Israel",Id:"il_vat"},{Index:31,Text:"Italy",Id:"eu_vat"},{Index:32,Text:"Japan",Id:"jp_cn"},{Index:33,Text:"Japan",Id:"jp_rn"},{Index:34,Text:"Korea, Republic of",Id:"kr_brn"},{Index:35,Text:"Latvia",Id:"eu_vat"},{Index:36,Text:"Liechtenstein",Id:"li_uid"},{Index:37,Text:"Lithuania",Id:"eu_vat"},{Index:38,Text:"Luxembourg",Id:"eu_vat"},{Index:39,Text:"Malaysia",Id:"my_frp"},{Index:40,Text:"Malaysia",Id:"my_itn"},{Index:41,Text:"Malaysia",Id:"my_sst"},{Index:42,Text:"Malta",Id:"eu_vat"},{Index:43,Text:"Mexico",Id:"mx_rfc"},{Index:44,Text:"Netherlands",Id:"eu_vat"},{Index:45,Text:"New Zealand",Id:"nz_gst"},{Index:46,Text:"Norway",Id:"no_vat"},{Index:47,Text:"Poland",Id:"eu_vat"},{Index:48,Text:"Portugal",Id:"eu_vat"},{Index:49,Text:"Romania",Id:"eu_vat"},{Index:50,Text:"Russian Federation",Id:"ru_inn"},{Index:51,Text:"Russian Federation",Id:"ru_kpp"},{Index:53,Text:"Saudi Arabia",Id:"sa_vat"},{Index:53,Text:"Singapore",Id:"sg_gst"},{Index:54,Text:"Singapore",Id:"sg_uen"},{Index:55,Text:"Slovakia",Id:"eu_vat"},{Index:56,Text:"Slovenia",Id:"eu_vat"},{Index:57,Text:"South Africa",Id:"za_vat"},{Index:58,Text:"Spain",Id:"es_cif"},{Index:59,Text:"Spain",Id:"eu_vat"},{Index:60,Text:"Sweden",Id:"eu_vat"},{Index:61,Text:"Switzerland",Id:"ch_vat"},{Index:62,Text:"Taiwan",Id:"tw_vat"},{Index:63,Text:"Thailand",Id:"th_vat"},{Index:64,Text:"Ukraine",Id:"ua_vat"},{Index:65,Text:"United Arab Emirates",Id:"ae_trn"},{Index:66,Text:"United Kingdom",Id:"gb_vat"},{Index:67,Text:"United Kingdom",Id:"eu_vat"},{Index:68,Text:"United States",Id:"us_ein"}]},zs=n(799),Vs=n(800),Us=n(180),Hs=Yt.a.confirm,Ks=function(e){var t=e.codeId,n=e.setDiscount,a=Object(d.b)().getAccessTokenSilently,r=function(){var e=Object(L.a)(G.a.mark((function e(){var r;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={url:"".concat("https://api.mailgen.org","/customer/discounts/remove"),method:"post",request:{codeId:t},successCallback:function(e){n(null)},errorCallback:function(e){}},e.next=3,st(a,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(pe.a,{onClick:function(){Hs({title:"Are you sure you want to remove your current discount?",icon:Object(J.jsx)(Us.a,{}),content:"The proccess is irreversible, and you will not be able to use the same discount code again!",okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){return Object(L.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",console.log("Oops errors!"));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()},onCancel:function(){}})},size:"small",danger:!0,children:"Remove Discount"})})},Ws=function(e){var t=e.tiers,n=e.upgradeDisabled,r=e.discount,c=e.setDiscount,i=Object(d.b)().getAccessTokenSilently,o=m(),l=Object(a.useState)("-"),u=Object(s.a)(l,2),b=u[0],j=u[1],p=Object(a.useState)(""),O=Object(s.a)(p,2),h=O[0],x=O[1],g=Object(a.useState)(5e3),f=Object(s.a)(g,2),y=f[0],C=f[1],v=Object(a.useState)(!1),T=Object(s.a)(v,2),S=T[0],I=T[1],N=Object(a.useState)(1e4),k=Object(s.a)(N,2),w=k[0],E=k[1],F=function(e){for(var n=t[0].flatAmount,a=t[0].emails,c=1;c<t.length;c++){if(e>t[c-1].upTo&&null===t[c].upTo){n=t[t.length-1].flatAmount,a=t[t.length-1].emails;break}e>t[c-1].upTo&&e<=t[c].upTo&&(n=t[c].flatAmount,a=t[c].emails)}C(e),E(a);var i=0!==n?"".concat(n).substring(0,"".concat(n).length-2):"-";if(j(i),r){var s=new Number(n)*(new Number(r.percentageOff)/100),o=0!==n?"".concat(n-s).substring(0,"".concat(n-s).length-2):"-";x(o)}},_=function(){var e=Object(L.a)(G.a.mark((function e(t){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({audience:o.audience,scope:"read:current_user profile email openid"});case 2:n=e.sent,fetch(t.uri,{method:t.method,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:t.data?JSON.stringify(t.data):null}).then((function(e){return e.json()})).then((function(e){e.status>=400?t.errorHandler(""):t.callback(e),t.changeAvailability&&t.changeAvailability(e)})).catch((function(e){t.errorHandler(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(L.a)(G.a.mark((function e(t){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),I(!0),n={uri:"".concat("https://api.mailgen.org","/customer/upgrade"),method:"post",data:{quantity:y},callback:function(e){I(!1)},errorHandler:function(e){console.log(e.message)}},e.next=5,_(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){if(t.length){var e="".concat(t[0].flatAmount).substring(0,"".concat(t[0].flatAmount).length-2);if(j(e),r){var n=t[0].flatAmount,a=new Number(n)*(new Number(r.percentageOff)/100),c=0!==e?"".concat(n-a).substring(0,"".concat(n-a).length-2):"-";x(c)}}else j("-")}),[t,r]),Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(ue.a,{children:[r?Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(A.a,{gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(Ae.a,{style:{textAlign:"left",fontSize:"16px"},type:"success",showIcon:!0,icon:Object(J.jsx)(zs.a,{}),message:"You applied a discount code ".concat(r.code," for ").concat(r.percentageOff,"% off all plans. Expires on ").concat(de()(r.expirationDate).format("MM/DD/YYYY")),action:Object(J.jsx)(Ks,{codeId:r.codeId,setDiscount:c})})})})}):"",Object(J.jsxs)(A.a,{gutter:[16,16],children:[Object(J.jsx)(D.a,{span:24,children:Object(J.jsxs)("span",{style:{fontSize:r?"30px":"50px",fontWeight:200,textDecoration:r?"line-through":"none"},children:["-"===b?"".concat(b):"$".concat(b)," "]})}),r?Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsxs)("span",{style:{fontSize:"50px",fontWeight:200},children:["-"===h?"".concat(h):"$".concat(h)," "]})})}):""]}),Object(J.jsxs)(A.a,{style:{marginTop:10},gutter:[16,16],children:[Object(J.jsxs)(D.a,{span:12,children:[Object(J.jsx)(A.a,{children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)("span",{style:{fontSize:"20px"},children:"Subscribers"})})}),Object(J.jsx)(A.a,{style:{marginTop:10},gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(en.a,{style:{textAlign:"center"},value:y,onChange:function(e){return F(e.target.value)},size:"large",addonBefore:Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(pe.a,{icon:Object(J.jsx)(Vs.a,{}),type:"text",onClick:function(){new Number(y)-5e3>=0?F(new Number(y)-5e3):F(0)}})}),addonAfter:Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(pe.a,{icon:Object(J.jsx)(ye.a,{}),type:"text",onClick:function(){F(new Number(y)+5e3)}})})})})})]}),Object(J.jsxs)(D.a,{span:12,children:[Object(J.jsx)(A.a,{gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)("span",{style:{fontSize:"20px"},children:"Emails"})})}),Object(J.jsx)(A.a,{style:{marginTop:10},gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(en.a,{style:{textAlign:"center"},size:"large",disabled:!0,value:w})})})]})]}),Object(J.jsx)(A.a,{style:{marginTop:10},children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(Ae.a,{message:"In order to Upgrade your account, you first need to fill your invoice and payment details."})})}),Object(J.jsx)(A.a,{style:{marginTop:10},children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(pe.a,{shape:"round",type:"primary",size:"large",loading:S,disabled:n||S,onClick:function(e){return B(e)},children:"Upgrade"})})})]})})},qs=function(){var e=Object(d.b)().getAccessTokenSilently,t=Object(a.useState)(!1),n=Object(s.a)(t,2),r=(n[0],n[1]),c=cn.b.useMessage(),i=Object(s.a)(c,2),l=i[0],u=i[1],b=Object(a.useState)(null),j=Object(s.a)(b,2),m=(j[0],j[1]),p=Object(a.useState)(!0),O=Object(s.a)(p,2),h=O[0],x=O[1],g=Object(a.useState)([]),f=Object(s.a)(g,2),y=f[0],C=f[1],v=Object(a.useState)(""),T=Object(s.a)(v,2),S=T[0],I=T[1],N=Object(a.useState)(!0),k=Object(s.a)(N,2),w=k[0],E=k[1],F=Object(a.useState)(!1),_=Object(s.a)(F,2),B=_[0],M=_[1],R=Object(a.useState)({}),P=Object(s.a)(R,2),z=P[0],V=P[1],U=Object(a.useState)({taxCodeIndex:"",businessName:"",taxId:"",taxCode:"",addressCountry:null,addressCity:"",addressLine1:"",addressLine2:"",addressPostalCode:"",addressState:"",numberOfSubscribers:5e3,amount:"$20",discountCode:null}),H=Object(s.a)(U,2),K=H[0],W=H[1],q=Object(a.useState)(),Y=Object(s.a)(q,2),Z=Y[0],Q=Y[1],X=Object(a.useState)({updateCustomerDetailsDisabled:!1}),$=Object(s.a)(X,2),ee=$[0],te=$[1],ae=function(e){var t=Ps.taxData.filter((function(t){return t.Id===e}))[0];return I(t.Example),t},re=function(){var t=Object(L.a)(G.a.mark((function t(){var n;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={url:"".concat("https://api.mailgen.org","/prices/get"),method:"get",successCallback:function(e){C(e)},errorCallback:function(e){console.log(e.message)}},t.next=3,st(e,n);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ce=function(){var t=Object(L.a)(G.a.mark((function t(){var n;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={url:"".concat("https://api.mailgen.org","/customer/get/business"),method:"get",successCallback:function(e){var t=e.businessDetails,n=e.discount,a=ae(1);if(W(Object(o.a)(Object(o.a)({},K),{},{taxCodeIndex:1,taxCode:a.TaxCode})),t){var r=ae(t.tax?t.tax.taxCodeIndex:1);W({taxId:t.tax?t.tax.id:"",businessName:t.businessName,taxCodeIndex:t.tax?t.tax.taxCodeIndex:1,taxCode:r.TaxCode,addressCountry:t.address?t.address.countryCode:null,addressCity:t.address?t.address.city:"",addressLine1:t.address?t.address.addressLine1:"",addressLine2:t.address?t.address.addressLine2:"",addressPostalCode:t.address?t.address.postalCode:"",addressState:t.address?t.address.state:""});var c=null!==t.businessName&&0!==t.businessName.length;E(!c||!e.cardAdded)}n&&Q(n.codeId?n:null),x(!1)},errorCallback:function(e){console.log(e.message)}},t.next=3,st(e,n);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ie=function(){var t=Object(L.a)(G.a.mark((function t(n,a,c,i){var s;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.confirmCardSetup(n,{payment_method:i.id});case 2:if("succeeded"!==t.sent.setupIntent.status){t.next=8;break}return s={url:"".concat("https://api.mailgen.org","/customer/paymentmethod/confirm"),method:"post",successCallback:function(e){E(!1)},errorCallback:function(e){r(!0)}},t.next=7,st(e,s);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t)})));return function(e,n,a,r){return t.apply(this,arguments)}}(),se=function(){var e={},t=K.businessName&&0!==K.businessName.length;e.businessName=!t;var n=K.addressCountry&&0!==K.addressCountry.length;e.addressCountry=!n;var a=K.addressCity&&0!==K.addressCity.length;e.addressCity=!a;var r=K.addressLine1&&0!==K.addressLine1.length;e.addressLine1=!r;var c=K.addressPostalCode&&0!==K.addressPostalCode.length;return e.addressPostalCode=!c,V(e),Object.values(e).every((function(e){return!e}))},oe=function(){var t=Object(L.a)(G.a.mark((function t(n,a,c){var i,s;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(se()){t.next=4;break}return te(Object(o.a)(Object(o.a)({},ee),{},{updateCustomerDetailsDisabled:!1})),t.abrupt("return");case 4:return i={businessName:K.businessName,taxCodeIndex:K.taxCodeIndex,taxId:K.taxId,taxCode:K.taxCode,paymentMethod:n.paymentMethod?n.paymentMethod.id:null,discountCode:B?K.discountCode:null,address:{countryCode:K.addressCountry,city:K.addressCity,addressLine1:K.addressLine1,addressLine2:K.addressLine2,postalCode:K.addressPostalCode,state:K.addressState}},s={url:"".concat("https://api.mailgen.org","/customer/update/business"),method:"post",request:i,successCallback:function(e){te(Object(o.a)(Object(o.a)({},ee),{},{updateCustomerDetailsDisabled:!1})),400!=e.status?(void 0!==n.paymentMethod&&null!==n.paymentMethod&&ie(e.clientSecret,a,c,n.paymentMethod),e.discount&&Q(e.discount)):l.open({type:"error",content:e.message})},errorCallback:function(e){console.log(e),r(!0),te(Object(o.a)(Object(o.a)({},ee),{},{updateCustomerDetailsDisabled:!1}))}},t.next=8,st(e,s);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),le=function(){var e=Object(L.a)(G.a.mark((function e(t,n,a){var c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.createPaymentMethod({type:"card",card:n.getElement(Ms.CardElement)});case 3:if(!(c=e.sent).error||"validation_error"===c.error.type){e.next=8;break}return r(!0),m(c.error.message),e.abrupt("return");case 8:return e.next=10,oe(c,a,n);case 10:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){re(),ce()}),[]),Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)($t.a,{spinning:h,children:[u,Object(J.jsxs)(A.a,{gutter:[16,16],children:[Object(J.jsxs)(D.a,{span:8,children:[Object(J.jsx)(A.a,{gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsxs)(ue.a,{title:"Invoice Settings",children:[Object(J.jsx)(A.a,{gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(en.a,{status:z.businessName?"error":"",placeholder:"Business Name",value:K.businessName,onChange:function(e){W(Object(o.a)(Object(o.a)({},K),{},{businessName:e.target.value}))}})})}),Object(J.jsxs)(A.a,{style:{marginTop:10},gutter:[16,16],children:[Object(J.jsx)(D.a,{span:12,children:Object(J.jsx)(ne.a,{style:{float:"left",width:"100%",textAlign:"left"},value:K.taxCodeIndex,onChange:function(e){return function(e){var t=Ps.taxData.filter((function(t){return t.Id===e}))[0];W(Object(o.a)(Object(o.a)({},K),{},{taxCodeIndex:e,taxCode:t.TaxCode})),I(t.Example)}(e)},children:Ps.taxOptions.map((function(e){return Object(J.jsx)(ne.a.Option,{value:e.Index,children:e.Text+" - "+(t=e.Id,t.replaceAll("_"," ").toUpperCase())});var t}))})}),Object(J.jsx)(D.a,{span:12,children:Object(J.jsx)(en.a,{value:K.taxId,onChange:function(e){W(Object(o.a)(Object(o.a)({},K),{},{taxId:e.target.value}))},placeholder:S})})]}),Object(J.jsx)(A.a,{style:{marginTop:10},gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(ne.a,{status:z.addressCountry?"error":"",placeholder:"Country",style:{float:"left",width:"100%",textAlign:"left"},value:K.addressCountry,onChange:function(e){return W(Object(o.a)(Object(o.a)({},K),{},{addressCountry:e}))},children:Object.freeze([{CountryCode:"AD",CountryName:"Andorra"},{CountryCode:"AE",CountryName:"United Arab Emirates"},{CountryCode:"AF",CountryName:"Afghanistan"},{CountryCode:"AG",CountryName:"Antigua and Barbuda"},{CountryCode:"AI",CountryName:"Anguilla"},{CountryCode:"AL",CountryName:"Albania"},{CountryCode:"AM",CountryName:"Armenia"},{CountryCode:"AO",CountryName:"Angola"},{CountryCode:"AQ",CountryName:"Antarctica"},{CountryCode:"AR",CountryName:"Argentina"},{CountryCode:"AS",CountryName:"American Samoa"},{CountryCode:"AT",CountryName:"Austria"},{CountryCode:"AU",CountryName:"Australia"},{CountryCode:"AW",CountryName:"Aruba"},{CountryCode:"AX",CountryName:"\xc5land Islands"},{CountryCode:"AZ",CountryName:"Azerbaijan"},{CountryCode:"BA",CountryName:"Bosnia and Herzegovina"},{CountryCode:"BB",CountryName:"Barbados"},{CountryCode:"BD",CountryName:"Bangladesh"},{CountryCode:"BE",CountryName:"Belgium"},{CountryCode:"BF",CountryName:"Burkina Faso"},{CountryCode:"BG",CountryName:"Bulgaria"},{CountryCode:"BH",CountryName:"Bahrain"},{CountryCode:"BI",CountryName:"Burundi"},{CountryCode:"BJ",CountryName:"Benin"},{CountryCode:"BL",CountryName:"Saint Barth\xe9lemy"},{CountryCode:"BM",CountryName:"Bermuda"},{CountryCode:"BN",CountryName:"Brunei Darussalam"},{CountryCode:"BO",CountryName:"Bolivia (Plurinational State of)"},{CountryCode:"BQ",CountryName:"Bonaire"},{CountryCode:"BR",CountryName:"Brazil"},{CountryCode:"BS",CountryName:"Bahamas"},{CountryCode:"BT",CountryName:"Bhutan"},{CountryCode:"BV",CountryName:"Bouvet Island"},{CountryCode:"BW",CountryName:"Botswana"},{CountryCode:"BY",CountryName:"Belarus"},{CountryCode:"BZ",CountryName:"Belize"},{CountryCode:"CA",CountryName:"Canada"},{CountryCode:"CC",CountryName:"Cocos (Keeling) Islands"},{CountryCode:"CD",CountryName:"Congo"},{CountryCode:"CF",CountryName:"Central African Republic"},{CountryCode:"CG",CountryName:"Congo"},{CountryCode:"CH",CountryName:"Switzerland"},{CountryCode:"CI",CountryName:"C\xf4te d'Ivoire"},{CountryCode:"CK",CountryName:"Cook Islands"},{CountryCode:"CL",CountryName:"Chile"},{CountryCode:"CM",CountryName:"Cameroon"},{CountryCode:"CN",CountryName:"China"},{CountryCode:"CO",CountryName:"Colombia"},{CountryCode:"CR",CountryName:"Costa Rica"},{CountryCode:"CU",CountryName:"Cuba"},{CountryCode:"CV",CountryName:"Cabo Verde"},{CountryCode:"CW",CountryName:"Cura\xe7ao"},{CountryCode:"CX",CountryName:"Christmas Island"},{CountryCode:"CY",CountryName:"Cyprus"},{CountryCode:"CZ",CountryName:"Czechia"},{CountryCode:"DE",CountryName:"Germany"},{CountryCode:"DJ",CountryName:"Djibouti"},{CountryCode:"DK",CountryName:"Denmark"},{CountryCode:"DM",CountryName:"Dominica"},{CountryCode:"DO",CountryName:"Dominican Republic"},{CountryCode:"DZ",CountryName:"Algeria"},{CountryCode:"EC",CountryName:"Ecuador"},{CountryCode:"EE",CountryName:"Estonia"},{CountryCode:"EG",CountryName:"Egypt"},{CountryCode:"EH",CountryName:"Western Sahara"},{CountryCode:"ER",CountryName:"Eritrea"},{CountryCode:"ES",CountryName:"Spain"},{CountryCode:"ET",CountryName:"Ethiopia"},{CountryCode:"FI",CountryName:"Finland"},{CountryCode:"FJ",CountryName:"Fiji"},{CountryCode:"FK",CountryName:"Falkland Islands (Malvinas)"},{CountryCode:"FM",CountryName:"Micronesia (Federated States of)"},{CountryCode:"FO",CountryName:"Faroe Islands"},{CountryCode:"FR",CountryName:"France"},{CountryCode:"GA",CountryName:"Gabon"},{CountryCode:"GB",CountryName:"United Kingdom of Great Britain and Northern Ireland"},{CountryCode:"GD",CountryName:"Grenada"},{CountryCode:"GE",CountryName:"Georgia"},{CountryCode:"GF",CountryName:"French Guiana"},{CountryCode:"GG",CountryName:"Guernsey"},{CountryCode:"GH",CountryName:"Ghana"},{CountryCode:"GI",CountryName:"Gibraltar"},{CountryCode:"GL",CountryName:"Greenland"},{CountryCode:"GM",CountryName:"Gambia"},{CountryCode:"GN",CountryName:"Guinea"},{CountryCode:"GP",CountryName:"Guadeloupe"},{CountryCode:"GQ",CountryName:"Equatorial Guinea"},{CountryCode:"GR",CountryName:"Greece"},{CountryCode:"GS",CountryName:"South Georgia and the South Sandwich Islands"},{CountryCode:"GT",CountryName:"Guatemala"},{CountryCode:"GU",CountryName:"Guam"},{CountryCode:"GW",CountryName:"Guinea-Bissau"},{CountryCode:"GY",CountryName:"Guyana"},{CountryCode:"HK",CountryName:"Hong Kong"},{CountryCode:"HM",CountryName:"Heard Island and McDonald Islands"},{CountryCode:"HN",CountryName:"Honduras"},{CountryCode:"HR",CountryName:"Croatia"},{CountryCode:"HT",CountryName:"Haiti"},{CountryCode:"HU",CountryName:"Hungary"},{CountryCode:"ID",CountryName:"Indonesia"},{CountryCode:"IE",CountryName:"Ireland"},{CountryCode:"IL",CountryName:"Israel"},{CountryCode:"IM",CountryName:"Isle of Man"},{CountryCode:"IN",CountryName:"India"},{CountryCode:"IO",CountryName:"British Indian Ocean Territory"},{CountryCode:"IQ",CountryName:"Iraq"},{CountryCode:"IR",CountryName:"Iran (Islamic Republic of)"},{CountryCode:"IS",CountryName:"Iceland"},{CountryCode:"IT",CountryName:"Italy"},{CountryCode:"JE",CountryName:"Jersey"},{CountryCode:"JM",CountryName:"Jamaica"},{CountryCode:"JO",CountryName:"Jordan"},{CountryCode:"JP",CountryName:"Japan"},{CountryCode:"KE",CountryName:"Kenya"},{CountryCode:"KG",CountryName:"Kyrgyzstan"},{CountryCode:"KH",CountryName:"Cambodia"},{CountryCode:"KI",CountryName:"Kiribati"},{CountryCode:"KM",CountryName:"Comoros"},{CountryCode:"KN",CountryName:"Saint Kitts and Nevis"},{CountryCode:"KP",CountryName:"Korea (Democratic People's Republic of)"},{CountryCode:"KR",CountryName:"Korea"},{CountryCode:"KW",CountryName:"Kuwait"},{CountryCode:"KY",CountryName:"Cayman Islands"},{CountryCode:"KZ",CountryName:"Kazakhstan"},{CountryCode:"LA",CountryName:"Lao People's Democratic Republic"},{CountryCode:"LB",CountryName:"Lebanon"},{CountryCode:"LC",CountryName:"Saint Lucia"},{CountryCode:"LI",CountryName:"Liechtenstein"},{CountryCode:"LK",CountryName:"Sri Lanka"},{CountryCode:"LR",CountryName:"Liberia"},{CountryCode:"LS",CountryName:"Lesotho"},{CountryCode:"LT",CountryName:"Lithuania"},{CountryCode:"LU",CountryName:"Luxembourg"},{CountryCode:"LV",CountryName:"Latvia"},{CountryCode:"LY",CountryName:"Libya"},{CountryCode:"MA",CountryName:"Morocco"},{CountryCode:"MC",CountryName:"Monaco"},{CountryCode:"MD",CountryName:"Moldova"},{CountryCode:"ME",CountryName:"Montenegro"},{CountryCode:"MF",CountryName:"Saint Martin (French part)"},{CountryCode:"MG",CountryName:"Madagascar"},{CountryCode:"MH",CountryName:"Marshall Islands"},{CountryCode:"MK",CountryName:"North Macedonia"},{CountryCode:"ML",CountryName:"Mali"},{CountryCode:"MM",CountryName:"Myanmar"},{CountryCode:"MN",CountryName:"Mongolia"},{CountryCode:"MO",CountryName:"Macao"},{CountryCode:"MP",CountryName:"Northern Mariana Islands"},{CountryCode:"MQ",CountryName:"Martinique"},{CountryCode:"MR",CountryName:"Mauritania"},{CountryCode:"MS",CountryName:"Montserrat"},{CountryCode:"MT",CountryName:"Malta"},{CountryCode:"MU",CountryName:"Mauritius"},{CountryCode:"MV",CountryName:"Maldives"},{CountryCode:"MW",CountryName:"Malawi"},{CountryCode:"MX",CountryName:"Mexico"},{CountryCode:"MY",CountryName:"Malaysia"},{CountryCode:"MZ",CountryName:"Mozambique"},{CountryCode:"NA",CountryName:"Namibia"},{CountryCode:"NC",CountryName:"New Caledonia"},{CountryCode:"NE",CountryName:"Niger"},{CountryCode:"NF",CountryName:"Norfolk Island"},{CountryCode:"NG",CountryName:"Nigeria"},{CountryCode:"NI",CountryName:"Nicaragua"},{CountryCode:"NL",CountryName:"Netherlands"},{CountryCode:"NO",CountryName:"Norway"},{CountryCode:"NP",CountryName:"Nepal"},{CountryCode:"NR",CountryName:"Nauru"},{CountryCode:"NU",CountryName:"Niue"},{CountryCode:"NZ",CountryName:"New Zealand"},{CountryCode:"OM",CountryName:"Oman"},{CountryCode:"PA",CountryName:"Panama"},{CountryCode:"PE",CountryName:"Peru"},{CountryCode:"PF",CountryName:"French Polynesia"},{CountryCode:"PG",CountryName:"Papua New Guinea"},{CountryCode:"PH",CountryName:"Philippines"},{CountryCode:"PK",CountryName:"Pakistan"},{CountryCode:"PL",CountryName:"Poland"},{CountryCode:"PM",CountryName:"Saint Pierre and Miquelon"},{CountryCode:"PN",CountryName:"Pitcairn"},{CountryCode:"PR",CountryName:"Puerto Rico"},{CountryCode:"PS",CountryName:"Palestine"},{CountryCode:"PT",CountryName:"Portugal"},{CountryCode:"PW",CountryName:"Palau"},{CountryCode:"PY",CountryName:"Paraguay"},{CountryCode:"QA",CountryName:"Qatar"},{CountryCode:"RE",CountryName:"R\xe9union"},{CountryCode:"RO",CountryName:"Romania"},{CountryCode:"RS",CountryName:"Serbia"},{CountryCode:"RU",CountryName:"Russian Federation"},{CountryCode:"RW",CountryName:"Rwanda"},{CountryCode:"SA",CountryName:"Saudi Arabia"},{CountryCode:"SB",CountryName:"Solomon Islands"},{CountryCode:"SC",CountryName:"Seychelles"},{CountryCode:"SD",CountryName:"Sudan"},{CountryCode:"SE",CountryName:"Sweden"},{CountryCode:"SG",CountryName:"Singapore"},{CountryCode:"SH",CountryName:"Saint Helena"},{CountryCode:"SI",CountryName:"Slovenia"},{CountryCode:"SJ",CountryName:"Svalbard and Jan Mayen"},{CountryCode:"SK",CountryName:"Slovakia"},{CountryCode:"SL",CountryName:"Sierra Leone"},{CountryCode:"SM",CountryName:"San Marino"},{CountryCode:"SN",CountryName:"Senegal"},{CountryCode:"SO",CountryName:"Somalia"},{CountryCode:"SR",CountryName:"Suriname"},{CountryCode:"SS",CountryName:"South Sudan"},{CountryCode:"ST",CountryName:"Sao Tome and Principe"},{CountryCode:"SV",CountryName:"El Salvador"},{CountryCode:"SX",CountryName:"Sint Maarten (Dutch part)"},{CountryCode:"SY",CountryName:"Syrian Arab Republic"},{CountryCode:"SZ",CountryName:"Eswatini"},{CountryCode:"TC",CountryName:"Turks and Caicos Islands"},{CountryCode:"TD",CountryName:"Chad"},{CountryCode:"TF",CountryName:"French Southern Territories"},{CountryCode:"TG",CountryName:"Togo"},{CountryCode:"TH",CountryName:"Thailand"},{CountryCode:"TJ",CountryName:"Tajikistan"},{CountryCode:"TK",CountryName:"Tokelau"},{CountryCode:"TL",CountryName:"Timor-Leste"},{CountryCode:"TM",CountryName:"Turkmenistan"},{CountryCode:"TN",CountryName:"Tunisia"},{CountryCode:"TO",CountryName:"Tonga"},{CountryCode:"TR",CountryName:"T\xfcrkiye"},{CountryCode:"TT",CountryName:"Trinidad and Tobago"},{CountryCode:"TV",CountryName:"Tuvalu"},{CountryCode:"TW",CountryName:"Taiwan"},{CountryCode:"TZ",CountryName:"Tanzania"},{CountryCode:"UA",CountryName:"Ukraine"},{CountryCode:"UG",CountryName:"Uganda"},{CountryCode:"UM",CountryName:"United States Minor Outlying Islands"},{CountryCode:"US",CountryName:"United States of America"},{CountryCode:"UY",CountryName:"Uruguay"},{CountryCode:"UZ",CountryName:"Uzbekistan"},{CountryCode:"VA",CountryName:"Holy See"},{CountryCode:"VC",CountryName:"Saint Vincent and the Grenadines"},{CountryCode:"VE",CountryName:"Venezuela (Bolivarian Republic of)"},{CountryCode:"VG",CountryName:"Virgin Islands (British)"},{CountryCode:"VI",CountryName:"Virgin Islands (U.S.)"},{CountryCode:"VN",CountryName:"Viet Nam"},{CountryCode:"VU",CountryName:"Vanuatu"},{CountryCode:"WF",CountryName:"Wallis and Futuna"},{CountryCode:"WS",CountryName:"Samoa"},{CountryCode:"YE",CountryName:"Yemen"},{CountryCode:"YT",CountryName:"Mayotte"},{CountryCode:"ZA",CountryName:"South Africa"},{CountryCode:"ZM",CountryName:"Zambia"},{CountryCode:"ZW",CountryName:"Zimbabwe"}]).map((function(e){return Object(J.jsx)(ne.a.Option,{value:e.CountryCode,children:e.CountryName})}))})})}),Object(J.jsx)(A.a,{style:{marginTop:10},gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(en.a,{status:z.addressCity?"error":"",value:K.addressCity,onChange:function(e){W(Object(o.a)(Object(o.a)({},K),{},{addressCity:e.target.value}))},placeholder:"City"})})}),Object(J.jsx)(A.a,{style:{marginTop:10},gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(en.a,{status:z.addressLine1?"error":"",value:K.addressLine1,onChange:function(e){W(Object(o.a)(Object(o.a)({},K),{},{addressLine1:e.target.value}))},placeholder:"Address Line 1"})})}),Object(J.jsx)(A.a,{style:{marginTop:10},gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(en.a,{value:K.addressLine2,onChange:function(e){W(Object(o.a)(Object(o.a)({},K),{},{addressLine2:e.target.value}))},placeholder:"(Optional) Address Line 2"})})}),Object(J.jsx)(A.a,{style:{marginTop:10},gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(en.a,{status:z.addressPostalCode?"error":"",value:K.addressPostalCode,onChange:function(e){W(Object(o.a)(Object(o.a)({},K),{},{addressPostalCode:e.target.value}))},placeholder:"Postal Code"})})}),Object(J.jsx)(A.a,{style:{marginTop:10},gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(en.a,{value:K.addressState,onChange:function(e){W(Object(o.a)(Object(o.a)({},K),{},{addressState:e.target.value}))},placeholder:"(Optional) State"})})}),Object(J.jsx)(A.a,{style:{marginTop:10},gutter:[16,16],children:Object(J.jsx)(D.a,{children:Object(J.jsx)(ki.a,{checked:B,onChange:function(e){return M(e.target.checked)},children:"I have a discount code"})})}),Object(J.jsx)(A.a,{style:{marginTop:10},gutter:[16,16],children:Object(J.jsx)(D.a,{span:18,children:Object(J.jsx)(en.a,{value:K.discountCode,disabled:!B,onChange:function(e){W(Object(o.a)(Object(o.a)({},K),{},{discountCode:e.target.value}))},placeholder:"Enter your discount code..."})})})]})})}),Object(J.jsx)(A.a,{style:{marginTop:10},gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsxs)(ue.a,{title:"Payment Details",children:[Object(J.jsx)(A.a,{children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(Ae.a,{message:"Provide a card number only in case you want to change your current billing card.",children:"  "})})}),Object(J.jsx)(A.a,{children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(Rs,{submitDisabled:ee.updateCustomerDetailsDisabled,submitAction:function(){var e=Object(L.a)(G.a.mark((function e(t,n,a){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te(Object(o.a)(Object(o.a)({},ee),{},{updateCustomerDetailsDisabled:!0})),e.next=3,le(t,n,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()})})})]})})})]}),Object(J.jsx)(D.a,{span:16,children:Object(J.jsx)(Ws,{discount:Z,setDiscount:Q,upgradeDisabled:w,tiers:y})})]})]})})},Js=n(774),Ys=n(297),Zs=U.a.a(Ga||(Ga=Object(V.a)(["\n    margin-left: 5px;\n    text-decoration: underline; \n    font-weight: bold; \n    cursor: pointer;\n"]))),Qs=function(e){var t=e.isActive,n=Object(B.f)(),r=Object(d.b)().getAccessTokenSilently,c=Object(a.useState)({}),i=Object(s.a)(c,2),l=i[0],u=i[1],b=Object(a.useState)(!0),j=Object(s.a)(b,2),m=j[0],p=j[1],O=Object(a.useState)(!1),h=Object(s.a)(O,2),x=h[0],g=h[1],f=Object(a.useState)({cancelMessage:!1}),y=Object(s.a)(f,2),C=y[0],v=y[1],T=function(){var e=Object(L.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,st(r,{url:"".concat("https://api.mailgen.org","/account/subscription/cancel"),method:"post",request:{},successCallback:function(e){v(Object(o.a)(Object(o.a)({},C),{},{cancelMessage:!0})),g(!1)},errorCallback:function(){}});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(L.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(L.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("loading"),v(Object(o.a)(Object(o.a)({},C),{},{cancelMessage:!1})),t={url:"".concat("https://api.mailgen.org","/account/details"),method:"get",successCallback:function(e){u(e),2===e.subscriptionStatus&&v(Object(o.a)(Object(o.a)({},C),{},{cancelMessage:!0})),p(!1)},errorCallback:function(e){console.log(e.message)}},e.next=5,st(r,t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){t&&I()}),[t]),Object(a.useEffect)((function(){I()}),[]),Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)($t.a,{spinning:m,children:[Object(J.jsx)(A.a,{children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsxs)(ue.a,{children:[Object(J.jsxs)(A.a,{gutter:[16,16],children:[Object(J.jsx)(D.a,{span:1,children:Object(J.jsx)("span",{style:{fontWeight:500},children:"Contacts"})}),Object(J.jsx)(D.a,{span:22,children:Object(J.jsxs)("span",{style:{float:"right",fontWeight:500},children:[l.subscribersCount," of ",l.quota]})})]}),Object(J.jsx)(A.a,{children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(Ys.a,{type:"line",percent:l.subscribersCount/l.quota*100})})}),Object(J.jsx)(A.a,{gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsxs)("span",{style:{fontWeight:300},children:[l.quota-l.subscribersCount," contacts remaining for your current plan"]})})}),Object(J.jsx)(A.a,{style:{marginTop:30},gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(z.a,{columns:[{title:"Plan",dataIndex:"plan"},{title:"Subscribers Quantity",dataIndex:"subscribersQuantity"},{title:"Sent Emails",dataIndex:"emailsSentForPeriod"},{title:"Status",dataIndex:"status"},{title:"Upgrade",dataIndex:"upgrade",render:function(){return Object(J.jsx)(pe.a,{onClick:function(){return n.push("/profile?tab=billing")},type:"primary",children:" Upgrade "})}},{title:"Cancel",dataIndex:"cancel",render:function(){return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(Js.a,{title:"With this action, your subscription will be cancelled at the end of the billing period. Are you sure you want to proceed?",onConfirm:T,onCancel:S,okText:"Yes",cancelText:"No",children:Object(J.jsx)(pe.a,{loading:x,disabled:1!==l.accountType||0!==l.subscriptionStatus||C.cancelMessage,danger:!0,children:"Cancel"})})})}}],dataSource:function(){var e="Active";switch(l.subscriptionStatus){case 0:e="Active";break;case 1:e="Failed";break;case 2:e="Cancelled"}return[{key:"1",plan:1===l.accountType?"Pro":"Free",subscribersQuantity:l.quota,status:e,emailsSentForPeriod:"".concat(l.emailsSentForPeriod,"/").concat(l.allowedEmailsCount)}]}(),size:"middle",pagination:!1})})})]})})}),1===l.subscriptionStatus?Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(A.a,{gutter:[16,16],style:{marginTop:10},children:Object(J.jsx)(D.a,{span:12,children:Object(J.jsx)(Ae.a,{style:{textAlign:"left"},message:"The payment for the card provided failed.",description:Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)("span",{children:["The payment for the card provided failed.",Object(J.jsx)(Zs,{onClick:function(){return n.push("/profile?tab=billing")},children:"Consider updating your card information"}),"and paying",Object(J.jsx)(Zs,{onClick:function(e){return window.open(l.invoiceUrl,"_blank")},children:"your invoice"}),"."]})})})})})}):"",C.cancelMessage?Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(A.a,{gutter:[16,16],style:{marginTop:10},children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(Ae.a,{style:{textAlign:"left"},showIcon:!0,type:"warning",message:"Subscription was cancelled",description:Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)("div",{children:Object(J.jsx)("span",{children:"Your subscription will end at the end of the billing period."})}),Object(J.jsx)("div",{children:Object(J.jsx)("span",{children:"Until then, you can continue using the platform."})}),Object(J.jsx)("div",{children:Object(J.jsx)("span",{children:"Unfortunately at this point you can not renew it with the same tier. You can only upgrade to a higher tier."})})]})})})})}):""]})})},Xs=n(342),$s=n(801),eo=n(803),to=function(){var e=Object(d.b)().getAccessTokenSilently,t=Object(a.useState)([]),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(""),l=Object(s.a)(i,2),u=l[0],b=l[1],j=Object(a.useState)(!1),m=Object(s.a)(j,2),p=m[0],O=m[1],h=Object(a.useState)(""),x=Object(s.a)(h,2),g=x[0],f=x[1],y=Object(a.useState)(!1),C=Object(s.a)(y,2),v=C[0],T=C[1],S=Object(a.useState)({tableLoading:!1,addEmailButton:!1}),I=Object(s.a)(S,2),N=I[0],k=I[1],w=function(){var t=Object(L.a)(G.a.mark((function t(){var n;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(Object(o.a)(Object(o.a)({},N),{},{tableLoading:!0})),n={url:"".concat("https://api.mailgen.org","/sendingEmails/all"),method:"get",successCallback:function(e){c(e.data.sendingEmails),k(Object(o.a)(Object(o.a)({},N),{},{tableLoading:!1}))},errorCallback:function(e){console.log(e.message),k(Object(o.a)(Object(o.a)({},N),{},{tableLoading:!1}))}},t.next=4,st(e,n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=function(){var t=Object(L.a)(G.a.mark((function t(){var n;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(u.length<1)){t.next=2;break}return t.abrupt("return");case 2:return n={url:"".concat("https://api.mailgen.org","/sendingEmails/delete"),method:"post",request:{SendingEmailId:u},successCallback:function(){var e=Object(L.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:O(!1),t.success||Ni.a.error({message:"Error deleting a sending email!",description:"One or more campaigns/automatic emails are currently using this sending email",placement:"bottomLeft"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),errorCallback:function(e){O(!1)}},t.next=5,st(e,n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),F=function(){var t=Object(L.a)(G.a.mark((function t(){var n;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(g.length<1)){t.next=2;break}return t.abrupt("return");case 2:return k(Object(o.a)(Object(o.a)({},N),{},{addEmailButton:!0})),n={url:"".concat("https://api.mailgen.org","/sendingEmails/add"),method:"post",request:{email:g},successCallback:function(){var e=Object(L.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:T(!1),k(Object(o.a)(Object(o.a)({},N),{},{addEmailButton:!1}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),errorCallback:function(e){T(!1),k(Object(o.a)(Object(o.a)({},N),{},{addEmailButton:!1}))}},t.next=6,st(e,n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){w()}),[]),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(H,{children:[Object(J.jsx)(A.a,{children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(Ae.a,{style:{textAlign:"left"},message:"Note",description:"After adding the record, you will be sent an email to verify the added email address.",type:"info",showIcon:!0})})}),Object(J.jsxs)(A.a,{style:{marginTop:20},gutter:[16,16],children:[Object(J.jsx)(D.a,{span:12,children:Object(J.jsx)("div",{style:{float:"left"},children:Object(J.jsx)("h3",{children:"Sending Emails"})})}),Object(J.jsx)(D.a,{span:12,children:Object(J.jsx)("div",{style:{float:"right"},children:Object(J.jsx)(Je.a,{title:"Refresh",children:Object(J.jsx)(pe.a,{onClick:Object(L.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),shape:"circle",icon:Object(J.jsx)(Qe.a,{})})})})})]}),Object(J.jsx)(A.a,{style:{marginTop:10},children:Object(J.jsx)(D.a,{children:Object(J.jsx)(pe.a,{onClick:function(){return T(!0)},shape:"round",icon:Object(J.jsx)(ye.a,{}),children:"Add email"})})}),Object(J.jsx)(A.a,{style:{marginTop:10},gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(z.a,{loading:N.tableLoading,columns:[{title:"Email",dataIndex:"email"},{title:"Status",dataIndex:"status",render:function(e){return 0===e?Object(J.jsx)(P.a,{color:"grey",children:"Pending"}):1===e?Object(J.jsx)(P.a,{color:"green",children:"Verified"}):void 0}},{title:"Actions",dataIndex:"actions",render:function(e,t){var n=t.id;return Object(J.jsx)(pe.a,{danger:!0,shape:"round",icon:Object(J.jsx)(pt.a,{}),onClick:function(){return b(n),void O(!0)}})}}],dataSource:r,size:"middle"})})})]}),Object(J.jsx)(Yt.a,{title:"Delete sending email",style:{top:20},visible:p,onOk:Object(L.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),onCancel:function(){b(""),O(!1)},children:Object(J.jsx)("span",{children:"Are you sure you want to delete this sending email?"})}),Object(J.jsxs)(Xt.a,{title:"Details",placement:"right",visible:v,onClose:function(){return T(!1)},children:[Object(J.jsx)(A.a,{gutter:[16,16],children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)(en.a,{onChange:function(e){return f(e.target.value)},value:g,placeholder:"Email"})})}),Object(J.jsx)(A.a,{style:{marginTop:10},children:Object(J.jsx)(D.a,{children:Object(J.jsx)(pe.a,{disabled:!Nt(g),onClick:F,type:"primary",loading:N.addEmailButton,children:"Add Email"})})})]})]})},no=Xs.a.TabPane,ao=U.a.div(La||(La=Object(V.a)(["\n    margin-top: 16px;\n    height: 95%;\n    padding: 20px;\n    background-color: white;\n    border: 1px solid #e6ebf1;\n    border-radius: 10px;\n    color: #fafafb !important;\n"]))),ro=function(e){var t=Object(a.useState)("1"),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(B.f)(),o=Dn.a.parse(e.location.search);return Object(a.useEffect)((function(){c(o.tab)}),[o]),Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(ao,{children:Object(J.jsxs)(Xs.a,{onTabClick:function(e){switch(c(e),e){case"account":i.push("/profile");break;case"billing":i.push("/profile?tab=billing");break;case"passManagement":i.push("/profile?tab=passManagement");break;case"integrations":i.push("/profile?tab=integrations");break;case"sendingSettings":i.push("/profile?tab=sendingSettings")}},activeKey:r,tabPosition:"left",style:{height:"100%",backgroundColor:"white"},children:[Object(J.jsx)(no,{tab:Object(J.jsxs)("span",{children:[Object(J.jsx)(zs.a,{}),"Account"]}),children:Object(J.jsx)(Qs,{isActive:"account"===r})},"account"),Object(J.jsx)(no,{tab:Object(J.jsxs)("span",{children:[Object(J.jsx)($s.a,{}),"Billing"]}),children:Object(J.jsx)(qs,{})},"billing"),Object(J.jsx)(no,{tab:Object(J.jsxs)("span",{children:[Object(J.jsx)(T.a,{}),"Password Management"]}),children:Object(J.jsx)(Bs,{})},"passManagement"),Object(J.jsx)(no,{tab:Object(J.jsxs)("span",{children:[Object(J.jsx)(eo.a,{}),"Sending Settings"]}),children:Object(J.jsx)(to,{})},"sendingSettings")]})})})},co=U.a.div(Ra||(Ra=Object(V.a)(["\n    float: right;\n    height: 0px;\n    color: rgb(26, 51, 83);\n    padding-right: 50px;\n"]))),io=U.a.a(Pa||(Pa=Object(V.a)(["\n    padding: 10px;\n"]))),so=function(){var e=Object(B.f)();return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(co,{children:Object(J.jsxs)(De.b,{align:"center",children:[Object(J.jsx)(pe.a,{size:"middle",icon:Object(J.jsx)(zs.a,{}),onClick:function(){return e.push("/profile?tab=billing")},shape:"round",type:"primary",children:"Upgrade"}),Object(J.jsx)(io,{href:"/profile",children:Object(J.jsx)(N.a,{style:{fontSize:"1.4rem",color:"#455560"}})})]})})})},oo=n(760),lo=function(e,t){return Object(J.jsx)("span",{children:Object(J.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:e})})},uo=[{value:"",innerVal:"Dashboard",label:lo("Dashboard","/")},{value:"",innerVal:"Audience Report",label:lo("Audience Report","/audience")},{value:"",innerVal:"Build a Form",label:lo("Build a Form","/build-form")},{value:"",innerVal:"Campaigns Report",label:lo("Campaigns Report","/campaigns")},{value:"",innerVal:"Create Campaign",label:lo("Create Campaign","/campaign")},{value:"",innerVal:"Automated Emails Report",label:lo("Automated Emails Report","/auto-emails")},{value:"",innerVal:"Create Automated Email",label:lo("Create Automated Email","/auto-email")},{value:"",innerVal:"Templates Report",label:lo("Templates Report","/templates")},{value:"",innerVal:"Create Simple Template",label:lo("Create Simple Template","/simple-template")}],bo=U.a.div(za||(za=Object(V.a)(["\n    float: left;\n    margin-left: 50px;\n"]))),jo=function(){return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(bo,{children:Object(J.jsx)(oo.a,{size:"large",dropdownMatchSelectWidth:350,style:{width:350,textAlign:"left"},options:uo,placeholder:"Search Pages...",filterOption:function(e,t){return-1!==t.innerVal.toUpperCase().indexOf(e.toUpperCase())}})})})},mo=n(267),po=n.n(mo),Oo=(n(684),n(685),n(686),function(e){var t=Dn.a.parse(e.location.search),n=Object(d.b)().getAccessTokenSilently,r=Object(B.f)(),c=Object(a.useState)(),i=Object(s.a)(c,2),l=i[0],u=i[1],b=Object(a.useState)({name:""}),j=Object(s.a)(b,2),m=j[0],p=j[1],O=Object(a.useState)({button:!1,page:!1}),h=Object(s.a)(O,2),x=h[0],g=h[1],f=Object(a.useState)({name:!0}),y=Object(s.a)(f,2),C=y[0],v=y[1],T=function(){var e={name:!0,editor:!0};return m.name.length||(e.name=!1),v(e),!Object.values(e).some((function(e){return!1===e}))};function S(e,t,n){var a=n.lastIndexOf(e);return-1===a?n:n.substring(0,a)+t+n.substring(a+e.length)}var I=function(){var e=Object(L.a)(G.a.mark((function e(){var a,c,i;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T()){e.next=3;break}return e.abrupt("return");case 3:return g(Object(o.a)(Object(o.a)({},x),{},{saveButton:!0})),a="",c=N(),t.id?a=c:(i=c.replace("body","div"),a=S("body","div",i)),'\n            <!DOCTYPE html>\n            <html>\n                <body>\n                    <div>\n                        {HTML_CONTENT_HERE}\n                    </div>\n                    <div style="text-align: center">\n                        <span>No longer interested?</span><a id="unsubscribe" href="{{BASE_ADDRESS}}/subscribers/unsubscribe?email={{SUBSCRIBER_EMAIL}}&subscriberId={{SUBSCRIBER_ID}}&returnUrl=https://mailgen.org/unsubscribe/">Unsubscribe</a>\n                    </div>\n                    <div id="platform-advertisement" style="text-align: center;margin-top:25px;">\n                        <a style="display: inline-block;vertical-align: middle;line-height: normal;text-decoration: none;color: inherit;" href="https://mailgen.org" target="_blank">\n                            <img style="display: inline-block;vertical-align: middle;line-height: normal;" alt="mailgen" height="80" width="150" src={process.env.PUBLIC_URL + \'/PoweredByMailgen.png\'} />\n                        </a>\n                    </div>\n                </body>\n            </html>',e.next=10,st(n,{url:"".concat("https://api.mailgen.org","/emailTemplates/upsertTemplate"),method:"post",request:{id:t.id,name:m.name,html:a,baseHtml:'\n            <!DOCTYPE html>\n            <html>\n                <body>\n                    <div>\n                        {HTML_CONTENT_HERE}\n                    </div>\n                    <div style="text-align: center">\n                        <span>No longer interested?</span><a id="unsubscribe" href="{{BASE_ADDRESS}}/subscribers/unsubscribe?email={{SUBSCRIBER_EMAIL}}&subscriberId={{SUBSCRIBER_ID}}&returnUrl=https://mailgen.org/unsubscribe/">Unsubscribe</a>\n                    </div>\n                    <div id="platform-advertisement" style="text-align: center;margin-top:25px;">\n                        <a style="display: inline-block;vertical-align: middle;line-height: normal;text-decoration: none;color: inherit;" href="https://mailgen.org" target="_blank">\n                            <img style="display: inline-block;vertical-align: middle;line-height: normal;" alt="mailgen" height="80" width="150" src={process.env.PUBLIC_URL + \'/PoweredByMailgen.png\'} />\n                        </a>\n                    </div>\n                </body>\n            </html>',templateType:1},successCallback:function(e){r.push("/templates"),g(Object(o.a)(Object(o.a)({},x),{},{saveButton:!1}))},errorCallback:function(e){g(Object(o.a)(Object(o.a)({},x),{},{saveButton:!1}))}});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)(Object(L.a)(G.a.mark((function e(){var a,r,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[(a="https://artf.github.io/grapesjs/")+"img/grapesjs-logo.png",a+"img/tmp-blocks.jpg",a+"img/tmp-tgl-images.jpg",a+"img/tmp-send-test.jpg",a+"img/tmp-devices.jpg"],c=po.a.init({container:"#gjs",plugins:["gjs-preset-newsletter"],assetManager:{assets:r,upload:!1,uploadText:"Uploading is not available in this demo"},pluginsOpts:{"gjs-preset-newsletter":{modalTitleImport:"Import template"}}}),u(c),!t.id){e.next=10;break}return g(Object(o.a)(Object(o.a)({},x),{},{page:!0})),e.next=8,st(n,{url:"".concat("https://api.mailgen.org","/emailTemplates/getById?id=").concat(t.id),method:"get",successCallback:function(e){p({name:e.template.name}),c.setComponents(e.template.html),g(Object(o.a)(Object(o.a)({},x),{},{page:!1}))},errorCallback:function(e){}});case 8:e.next=11;break;case 10:c.setComponents("");case 11:case"end":return e.stop()}}),e)}))),[]);var N=function(){return l.runCommand("gjs-get-inlined-html")};return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(A.a,{gutter:[16,16],children:[Object(J.jsx)(D.a,{span:5,children:Object(J.jsx)(en.a,{status:C.name?"":"error",prefix:C.name?"":Object(J.jsx)(Vc.a,{}),onChange:function(e){p(Object(o.a)(Object(o.a)({},m),{},{name:e.target.value}))},value:m.name,placeholder:"Name"})}),Object(J.jsx)(D.a,{span:2,children:Object(J.jsx)(Kc,{})}),Object(J.jsx)(D.a,{span:17,children:Object(J.jsx)(pe.a,{style:{float:"right"},onClick:function(){var e=Object(L.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:"Save"})})]}),Object(J.jsx)(A.a,{style:{marginTop:10},children:Object(J.jsx)(D.a,{span:24,children:Object(J.jsx)("div",{id:"gjs"})})})]})}),ho=w.a.Header,xo=w.a.Content,go=w.a.Sider;function fo(e,t,n,a,r){return{key:t,icon:n,children:r,label:e,style:a||{color:"rgb(26, 51, 83)"}}}var yo,Co,vo,To,So=[fo("General","sub1",Object(J.jsx)(x.a,{}),null,[fo("Dashboard","dashboard",Object(J.jsx)(g.a,{})),fo("Audience","audience",Object(J.jsx)(f.a,{}))]),fo("Automation","sub2",Object(J.jsx)(y.a,{}),null,[fo("Campaigns","campaigns",Object(J.jsx)(C.a,{})),fo("Automated Emails","autoEmails",Object(J.jsx)(v.a,{}))]),fo("Build","sub3",Object(J.jsx)(T.a,{}),null,[fo("Templates","templates",Object(J.jsx)(S.a,{})),fo("Forms","forms",Object(J.jsx)(I.a,{}))]),fo("Account","account",Object(J.jsx)(N.a,{})),fo("Logout","logout",Object(J.jsx)(k.a,{}))],Io=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],c=_(),i=Object(B.f)(),l=Object(d.b)().logout;return Object(J.jsxs)(w.a,{style:{minHeight:"100vh",color:"rgb(26, 51, 83)"},children:[Object(J.jsxs)(go,{style:{boxShadow:"rgb(0 0 0 / 15%) 0px 1px 4px -1px"},theme:"light",collapsible:!0,collapsed:n,onCollapse:function(e){return r(e)},children:[Object(J.jsx)("div",{className:c.logo,children:Object(J.jsx)("img",{height:50,width:50,src:"https://s3.amazonaws.com/unroll-images-production/projects%2F1071%2F1645905100627-Untitled+design.svg"})}),Object(J.jsx)(E.a,{style:{fontWeight:500,color:"#455560"},defaultSelectedKeys:["1"],onClick:function(e){e.item;switch(e.key){case"dashboard":i.push("/");break;case"audience":i.push("/audience");break;case"campaigns":i.push("/campaigns");break;case"autoEmails":i.push("/auto-emails");break;case"templates":i.push("/templates");break;case"forms":i.push("/build-form");break;case"account":i.push("/profile");break;case"logout":l()}},defaultOpenKeys:["sub1"],mode:"inline",items:So})]}),Object(J.jsxs)(w.a,{className:"site-layout",children:[Object(J.jsx)(ho,{className:c.siteLayoutBackground,style:{padding:0,height:"70px"},children:Object(J.jsxs)(A.a,{children:[Object(J.jsx)(D.a,{span:8,children:Object(J.jsx)(jo,{})}),Object(J.jsx)(D.a,{span:16,children:Object(J.jsx)(so,{})})]})}),Object(J.jsx)(xo,{style:{margin:"16px 50px"},children:Object(J.jsxs)(B.c,{children:[Object(J.jsx)(B.a,{exact:!0,from:"/",render:function(e){return Object(J.jsx)(je,Object(o.a)({},e))}}),Object(J.jsx)(B.a,{exact:!0,path:"/templates",render:function(e){return Object(J.jsx)(Te,Object(o.a)({},e))}}),Object(J.jsx)(B.a,{exact:!0,path:"/build-form",render:function(e){return Object(J.jsx)(qe,Object(o.a)({},e))}}),Object(J.jsx)(B.a,{exact:!0,path:"/audience",render:function(e){return Object(J.jsx)(Sn,Object(o.a)({},e))}}),Object(J.jsx)(B.a,{exact:!0,path:"/template",render:function(e){return Object(J.jsx)(Fc,Object(o.a)({},e))}}),Object(J.jsx)(B.a,{exact:!0,path:"/simple-template",render:function(e){return Object(J.jsx)(Wc,Object(o.a)({},e))}}),Object(J.jsx)(B.a,{exact:!0,path:"/campaigns",render:function(e){return Object(J.jsx)(Qc,Object(o.a)({},e))}}),Object(J.jsx)(B.a,{exact:!0,path:"/campaign",render:function(e){return Object(J.jsx)(os,Object(o.a)({},e))}}),Object(J.jsx)(B.a,{exact:!0,path:"/auto-emails",render:function(e){return Object(J.jsx)(ks,Object(o.a)({},e))}}),Object(J.jsx)(B.a,{exact:!0,path:"/auto-email",render:function(e){return Object(J.jsx)(_s,Object(o.a)({},e))}}),Object(J.jsx)(B.a,{exact:!0,path:"/profile",render:function(e){return Object(J.jsx)(ro,Object(o.a)({},e))}}),Object(J.jsx)(B.a,{exact:!0,path:"/drag-and-drop",render:function(e){return Object(J.jsx)(Oo,Object(o.a)({},e))}})]})})]})]})},No=(n(687),Object.freeze({NotSubscribed:0,Subscribed:1})),ko={importSubscribers:{areSubscribers:No.Subscribed,importedSubscribers:[]},simpleTemplate:{},amazonSesIntegration:{}},wo=Object(Me.b)({name:"onboarding",initialState:function(){return ko},reducers:{updateOnboarding:function(e,t){return Object(o.a)({},t.payload)}}}),Eo=(wo.actions.updateOnboarding,wo.reducer),Ao=Object(Me.a)({reducer:{scheduledCampaignGeneral:_i,scheduledCampaignScheduling:Vi,scheduledCampaignSenderDetails:Yi,tags:Ve,sendingEmails:yn,scheduledCampaignValidations:is,selectedSubscribersForDelete:yt,reloadAudienceReport:nt,subscriberDetailsDrawer:St,subscriberManagementDrawer:it,autoEmailGeneralDetails:ps,autoEmailSenderDetails:ys,autoEmailValidations:Ns,onboarding:Eo,importSubscribersTransformedData:Rt},middleware:function(e){return e({serializableCheck:!1})}}),Do=n(769),Fo=n(812),_o=U.a.div(yo||(yo=Object(V.a)(["\n"]))),Bo=U.a.h1(Co||(Co=Object(V.a)(["\n\n"]))),Mo=U.a.p(vo||(vo=Object(V.a)(["\n    font-size: 1.5em;\n"]))),Go=function(){return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(_o,{children:Object(J.jsx)(Do.a,{status:"info",icon:Object(J.jsx)(Fo.a,{}),title:Object(J.jsx)(Bo,{children:"Almost there!"}),subTitle:Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(Mo,{children:"We've sent you an email with a link to activate your account."}),Object(J.jsx)(Mo,{children:"Send us an email at contact@mailgen.org if you need additional help."})]})})})})};n(775),n(767).a.Panel,Object.freeze([{id:No.Subscribed,name:"Subscribers"},{id:No.NotSubscribed,name:"Not Subscribers"}]),U.a.span(To||(To=Object(V.a)(["\n    // color: #1a3353;\n    font-weight: 500;\n    font-size: 15px;\n"]))),n(813);var Lo=function(){var e=m(),t=Object(o.a)(Object(o.a)({domain:e.domain,clientId:e.clientId},e.audience?{audience:e.audience}:null),{},{redirectUri:window.location.origin,scope:e.scope,onRedirectCallback:function(e){b.push(e&&e.returnTo?e.returnTo:window.location.pathname)}}),n=function(){return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(l.a,{children:Object(J.jsx)("div",{className:"App",children:Object(J.jsx)(Io,{})})})})},r=function(){return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)("p",{children:"Loading..."})})},c=function(){var e=Object(a.useState)(!0),t=Object(s.a)(e,2),c=t[0],i=t[1],o=Object(a.useState)(!1),l=Object(s.a)(o,2),u=l[0],b=l[1],j=Object(a.useState)(!1),m=Object(s.a)(j,2),p=m[0],O=m[1],h=Object(a.useState)(!1),x=Object(s.a)(h,2),g=x[0],f=x[1],y=Object(a.useState)(!1),C=Object(s.a)(y,2),v=C[0],T=C[1],S=Object(d.b)(),I=S.isLoading,N=S.isAuthenticated,k=S.loginWithRedirect,w=S.getIdTokenClaims,E=S.getAccessTokenSilently;I||N||k(),I||N||T(!0),Object(a.useEffect)((function(){b(!1),w().then((function(e){e&&(i(e.email_verified),b(!0))}))}),[N]);return Object(a.useEffect)((function(){c&&st(E,{url:"".concat("https://api.mailgen.org","/customer/getCustomerId"),method:"get",successCallback:function(e){f(!0),e.id.length?O(!0):st(E,{url:"".concat("https://api.mailgen.org","/customer/create"),method:"post",successCallback:function(e){f(!0),e.id.length&&O(!0)},errorCallback:function(e){}})},errorCallback:function(e){}})}),[]),Object(J.jsx)(J.Fragment,{children:v||!u?Object(J.jsx)(r,{}):c?p&&g?Object(J.jsx)(n,{}):Object(J.jsx)(r,{}):Object(J.jsx)(Go,{})})};return Object(J.jsx)(_e.a,{store:Ao,children:Object(J.jsx)(d.a,Object(o.a)(Object(o.a)({},t),{},{children:Object(J.jsx)(c,{})}))})},Ro=(n(688),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,821)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Po=document.getElementById("root");i.a.render(Object(J.jsx)(Lo,{}),Po),Ro(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[689,1,2]]]);
//# sourceMappingURL=main.5b06ad6c.chunk.js.map